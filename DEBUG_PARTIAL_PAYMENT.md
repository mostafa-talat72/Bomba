# ุชุดุฎูุต ูุดููุฉ ุงูุฏูุน ุงูุฌุฒุฆู

## ุงููุดููุฉ ุงูุญุงููุฉ:
- ุงููุฏููุน ุงููุนูู: 128 ุฌููู
- ุงููุฏููุน ุงููุญุณูุจ: 256 ุฌููู (ุถุนู ุงููุจูุบ)
- ุงููุชุจูู ุฎุงุทุฆ ุจุณุจุจ ุงูุญุณุงุจ ุงููุถุงุนู

## ุงูุณุจุจ ุงููุญุชูู:
ุงููุธุงู ูุญุณุจ ุงููุจูุบ ูู ูุตุฏุฑูู:
1. `itemPayments.paidAmount` (ุงูุฏูุนุงุช ุงูุฌุฒุฆูุฉ)
2. `payments.amount` (ุณุฌู ุงูุฏูุนุงุช)

## ุงูุญู ุงููุทููุจ:
ุฅูุง ุงุณุชุฎุฏุงู `itemPayments` ููุท ุฃู `payments` ููุทุ ูููุณ ุงูุงุซููู ูุนุงู.

## ุฎุทูุงุช ุงูุชุดุฎูุต:

### 1. ูุญุต ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```javascript
// ูู MongoDB Compass ุฃู shell
db.bills.findOne({billNumber: "BILL-251220044858333"}, {
  itemPayments: 1,
  payments: 1,
  paid: 1,
  total: 1,
  remaining: 1
})
```

### 2. ูุญุต logs ุงูุฎุงุฏู
ุงุจุญุซ ุนู:
- `๐ฐ [calculateRemainingAmount] Using itemPayments system`
- `๐ฐ [addPartialPayment] Payment calculation`

### 3. ุงูุญู ุงููุคูุช
ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูููู ุฅุฒุงูุฉ ุงูุฏูุนุงุช ุงูุฌุฒุฆูุฉ ูู `payments` array:

```javascript
// ูู controller
bill.payments = bill.payments.filter(p => p.type !== 'partial');
```

## ุงูุชูุตูุฉ:
ุงุณุชุฎุฏุงู `itemPayments` ููุท ููุฏูุนุงุช ุงูุฌุฒุฆูุฉ ูุนุฏู ุฅุถุงูุชูุง ุฅูู `payments` array.