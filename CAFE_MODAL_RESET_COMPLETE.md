# โ ุฅุตูุงุญ ูุงูู: ุฅุนุงุฏุฉ ุชุนููู ุงูููุงูุฐ ูุฅุตูุงุญ ุญููู ุงูุฅุฏุฎุงู ูู ุตูุญุฉ ุงูุทูุจุงุช

## ุงูููุฎุต
ุชู ุฅุตูุงุญ ูุดููุชูู ุฑุฆูุณูุชูู:
1. ุงุญุชูุงุธ ุงูููุงูุฐ ุงูููุจุซูุฉ ุจุญุงูุชูุง ุงูุณุงุจูุฉ ุนูุฏ ุฅุนุงุฏุฉ ูุชุญูุง
2. ุชุนููู ุญููู ุงูุฅุฏุฎุงู (ุงูุจุญุซ ูุงูููุงุญุธุงุช) ูุนุฏู ุงููุฏุฑุฉ ุนูู ุงููุชุงุจุฉ ูููุง

## ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

## ุงูุฌุฒุก ุงูุฃูู: ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ ุงูููุงูุฐ

### 1. ูุงูุฐุฉ ุงูุทูุจ ุงูุฌุฏูุฏ โ
```typescript
const handleAddOrder = () => {
  setCurrentOrderItems([]);
  setOrderNotes('');
  setExpandedSections({});      // ุฅุบูุงู ุฌููุน ุงูุฃูุณุงู
  setExpandedCategories({});    // ุฅุบูุงู ุฌููุน ุงููุฆุงุช
  setShowOrderModal(true);
};
```

### 2. ูุงูุฐุฉ ุชุนุฏูู ุงูุทูุจ โ
```typescript
const handleEditOrder = (order: Order) => {
  // ... ุชุญููู ุจูุงูุงุช ุงูุทูุจ
  setExpandedSections({});      // ุฅุบูุงู ุฌููุน ุงูุฃูุณุงู
  setExpandedCategories({});    // ุฅุบูุงู ุฌููุน ุงููุฆุงุช
  setShowEditOrderModal(true);
};
```

### 3. ุงูุชุฑููุฒ ุงูุชููุงุฆู ูู OrderModal โ
```typescript
const searchInputRef = useRef<HTMLInputElement>(null);

useEffect(() => {
  setSearchQuery('');           // ูุณุญ ุงูุจุญุซ ุงูุณุงุจู
  const timer = setTimeout(() => {
    searchInputRef.current?.focus();
  }, 100);
  return () => clearTimeout(timer);
}, []);
```

### 4. ุงูุชุฑููุฒ ุงูุชููุงุฆู ูู SectionModal โ
```typescript
const nameInputRef = useRef<HTMLInputElement>(null);

useEffect(() => {
  const timer = setTimeout(() => {
    nameInputRef.current?.focus();
  }, 100);
  return () => clearTimeout(timer);
}, []);
```

### 5. ุงูุชุฑููุฒ ุงูุชููุงุฆู ูู TableModal โ
```typescript
const numberInputRef = useRef<HTMLInputElement>(null);

useEffect(() => {
  const timer = setTimeout(() => {
    numberInputRef.current?.focus();
  }, 100);
  return () => clearTimeout(timer);
}, []);
```

## ุงูุฌุฒุก ุงูุซุงูู: ุฅุตูุงุญ ุชุนููู ุญููู ุงูุฅุฏุฎุงู

### ุงููุดููุฉ
ูุงูุช ุญููู ุงูุฅุฏุฎุงู (ุงูุจุญุซุ ููุงุญุธุงุช ุงูุนูุตุฑุ ููุงุญุธุงุช ุงูุทูุจ) ุชุชุนูู ููุง ุชุณูุญ ุจุงูููุฑ ุฃู ุงููุชุงุจุฉ ูููุง ุนูุฏ ูุชุญ ุงููุงูุฐุฉ ูุฃูู ูุฑุฉ. ุงููุดููุฉ ุชุฎุชูู ุนูุฏ ุงูุฐูุงุจ ูุจุฑูุงูุฌ ุขุฎุฑ ูุงูุนูุฏุฉ.

### ุงูุณุจุจ
1. ุงูุฃุญุฏุงุซ (events) ูุงูุช ุชูุชุดุฑ (propagate) ุฅูู ุงูุนูุงุตุฑ ุงูุฃุจ
2. ุงูุชุฑููุฒ (focus) ูู ููู ููุทุจู ุจุดูู ุตุญูุญ ุนูุฏ ูุชุญ ุงููุงูุฐุฉ
3. ุนุฏู ูุฌูุฏ `tabIndex` ูุฌุนู ุงูุญููู ุบูุฑ ูุงุจูุฉ ููุชุฑููุฒ ุจุดูู ููุซูู

### ุงูุญู
ุญู ูุชุนุฏุฏ ุงูุทุจูุงุช:

#### 1. ุชุญุณูู ุงูุชุฑููุฒ ุงูุชููุงุฆู โ
```typescript
useEffect(() => {
  setSearchQuery('');
  
  // ูุญุงููุงุช ูุชุนุฏุฏุฉ ูุถูุงู ุงูุชุฑููุฒ
  const timer1 = setTimeout(() => {
    searchInputRef.current?.focus();
  }, 50);
  
  const timer2 = setTimeout(() => {
    searchInputRef.current?.focus();
  }, 150);
  
  const timer3 = setTimeout(() => {
    searchInputRef.current?.focus();
  }, 300);
  
  return () => {
    clearTimeout(timer1);
    clearTimeout(timer2);
    clearTimeout(timer3);
  };
}, []);
```

#### 2. ุญูู ุงูุจุญุซ โ
```typescript
<input
  ref={searchInputRef}
  type="text"
  placeholder="ุจุญุซ ุนู ุนูุตุฑ..."
  value={searchQuery}
  onChange={(e) => setSearchQuery(e.target.value)}
  onClick={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onMouseDown={(e) => e.stopPropagation()}  // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onFocus={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุญุฏุซ ุงูุชุฑููุฒ
  tabIndex={0}                              // โ ุฌุนู ุงูุญูู ูุงุจู ููุชุฑููุฒ
  autoComplete="off"                        // โ ููุน ุงูุฅููุงู ุงูุชููุงุฆู
  className="..."
/>
```

#### 3. ุญูู ููุงุญุธุงุช ุงูุนูุตุฑ โ
```typescript
<input
  type="text"
  value={item.notes || ''}
  onChange={(e) => updateItemNotes(item.menuItem, e.target.value)}
  onClick={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onMouseDown={(e) => e.stopPropagation()}  // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onFocus={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุญุฏุซ ุงูุชุฑููุฒ
  tabIndex={0}                              // โ ุฌุนู ุงูุญูู ูุงุจู ููุชุฑููุฒ
  autoComplete="off"                        // โ ููุน ุงูุฅููุงู ุงูุชููุงุฆู
  placeholder="ููุงุญุธุงุช ุนูู ุงูุนูุตุฑ"
  className="..."
/>
```

#### 4. ุญูู ููุงุญุธุงุช ุงูุทูุจ โ
```typescript
<textarea
  value={orderNotes}
  onChange={(e) => setOrderNotes(e.target.value)}
  onClick={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onMouseDown={(e) => e.stopPropagation()}  // โ ููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
  onFocus={(e) => e.stopPropagation()}      // โ ููุน ุงูุชุดุงุฑ ุญุฏุซ ุงูุชุฑููุฒ
  tabIndex={0}                              // โ ุฌุนู ุงูุญูู ูุงุจู ููุชุฑููุฒ
  autoComplete="off"                        // โ ููุน ุงูุฅููุงู ุงูุชููุงุฆู
  placeholder="ููุงุญุธุงุช ุนูู ุงูุทูุจ"
  rows={3}
  className="..."
/>
```

#### 5. ุฃููููุฉ ุงูุจุญุซ โ
```typescript
<Search className="absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none" />
```
ุฅุถุงูุฉ `pointer-events-none` ูููุน ุงูุฃููููุฉ ูู ุงูุชุฏุงุฎู ูุน ุญูู ุงูุฅุฏุฎุงู.

### ุดุฑุญ ุงูุฅุถุงูุงุช ุงูุฌุฏูุฏุฉ

#### `tabIndex={0}`
ูุฌุนู ุงูุนูุตุฑ ูุงุจูุงู ููุชุฑููุฒ ุนุจุฑ ููุญุฉ ุงูููุงุชูุญ (Tab) ููุถูู ุฃู ุงูุนูุตุฑ ูููู ุชุฑููุฒู ุจุฑูุฌูุงู.

#### `autoComplete="off"`
ูููุน ุงููุชุตูุญ ูู ุนุฑุถ ุงูุชุฑุงุญุงุช ุงูุฅููุงู ุงูุชููุงุฆู ุงูุชู ูุฏ ุชุชุฏุงุฎู ูุน ุงูุชูุงุนู.

#### `onFocus={(e) => e.stopPropagation()}`
ูููุน ุงูุชุดุงุฑ ุญุฏุซ ุงูุชุฑููุฒ ุฅูู ุงูุนูุงุตุฑ ุงูุฃุจ.

#### ูุญุงููุงุช ุงูุชุฑููุฒ ุงููุชุนุฏุฏุฉ
```typescript
const timer1 = setTimeout(() => searchInputRef.current?.focus(), 50);
const timer2 = setTimeout(() => searchInputRef.current?.focus(), 150);
const timer3 = setTimeout(() => searchInputRef.current?.focus(), 300);
```
ุซูุงุซ ูุญุงููุงุช ูู ุฃููุงุช ูุฎุชููุฉ ูุถูุงู ูุฌุงุญ ุงูุชุฑููุฒ ุญุชู ูู ูุงูุช ุงููุงูุฐุฉ ูู ุชูุนุฑุถ ุจุงููุงูู ุจุนุฏ.

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุนูุฏ ูุชุญ ุฃู ูุงูุฐุฉ ูู ุตูุญุฉ ุงูุทูุจุงุช:

โ **ุฌููุน ุงูุฃูุณุงู ูุบููุฉ** - ุชุจุฏุฃ ูู ุญุงูุฉ ูุธููุฉ
โ **ุญูู ุงูุจุญุซ ูุงุฑุบ** - ูุง ูุญุชูุธ ุจุงูุจุญุซ ุงูุณุงุจู
โ **ุงูุชุฑููุฒ ุชููุงุฆู** - ูููู ุงูุจุฏุก ุจุงููุชุงุจุฉ ููุฑุงู
โ **ุญููู ุงูุฅุฏุฎุงู ุชุนูู ุจุดูู ุตุญูุญ** - ูููู ุงูููุฑ ูุงููุชุงุจุฉ ุจุฏูู ุชุนููู
โ **ุชุฌุฑุจุฉ ูุชุณูุฉ** - ููุณ ุงูุณููู ูู ูู ูุฑุฉ
โ **ุณุฑุนุฉ ูู ุงูุนูู** - ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุถุจุท ุฃู ุดูุก ูุฏููุงู

## ุงููููุงุช ุงููุนุฏูุฉ

- `src/pages/Cafe.tsx` - ุฌููุน ุงูุชุญุฏูุซุงุช
- `CAFE_MODAL_FOCUS_FIX.md` - ุงูุชูุซูู ุงููุงูู

## ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุงูุชุนููู
1. ุงูุชุญ ูุงูุฐุฉ ุทูุจ ุฌุฏูุฏ
2. ุงูุชุญ ุจุนุถ ุงูุฃูุณุงู ูุงุจุญุซ ุนู ุนูุตุฑ
3. ุฃุบูู ุงููุงูุฐุฉ
4. ุงูุชุญูุง ูุฑุฉ ุฃุฎุฑู
5. **ุงููุชูุฌุฉ**: ูู ุดูุก ูุธูู ูุฃููุง ุงููุฑุฉ ุงูุฃููู! โจ

### ุงุฎุชุจุงุฑ ุญููู ุงูุฅุฏุฎุงู
1. ุงูุชุญ ูุงูุฐุฉ ุทูุจ ุฌุฏูุฏ
2. **ูุง ุชุฐูุจ ูุจุฑูุงูุฌ ุขุฎุฑ** - ุงุจู ูู ุงููุงูุฐุฉ
3. ุฌุฑุจ ุงูููุฑ ุนูู ุญูู ุงูุจุญุซ
   - โ ูุฌุจ ุฃู ูุนูู ููุฑุงู ูููููู ุงููุชุงุจุฉ (ุจุฏูู ุงูุญุงุฌุฉ ููุฐูุงุจ ูุจุฑูุงูุฌ ุขุฎุฑ)
4. ุฃุถู ุนูุตุฑ ููุทูุจ
5. ุฌุฑุจ ุงูููุฑ ุนูู ุญูู "ููุงุญุธุงุช ุนูู ุงูุนูุตุฑ"
   - โ ูุฌุจ ุฃู ูุนูู ููุฑุงู ูููููู ุงููุชุงุจุฉ
6. ุฌุฑุจ ุงูููุฑ ุนูู ุญูู "ููุงุญุธุงุช ุนูู ุงูุทูุจ"
   - โ ูุฌุจ ุฃู ูุนูู ููุฑุงู ูููููู ุงููุชุงุจุฉ
7. ุฃุบูู ุงููุงูุฐุฉ ูุงูุชุญูุง ูุฑุฉ ุฃุฎุฑู
8. ุฌุฑุจ ุงูุญููู ูุจุงุดุฑุฉ ุจุฏูู ุงูุฐูุงุจ ูุจุฑูุงูุฌ ุขุฎุฑ
   - โ ูุฌุจ ุฃู ุชุนูู ุฌููุน ุงูุญููู ููุฑุงู
9. **ุงููุชูุฌุฉ**: ุฌููุน ุงูุญููู ุชุนูู ุจุฏูู ุชุนููู ูุจุฏูู ุงูุญุงุฌุฉ ููุฐูุงุจ ูุจุฑูุงูุฌ ุขุฎุฑ! ๐
