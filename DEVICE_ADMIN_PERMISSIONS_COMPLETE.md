# ุชูููุฏ ุตูุงุญูุงุช ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ูููุฏูุฑ ููุท

## ๐ฏ ุงููุฏู
ุชูููุฏ ุนูููุงุช ุฅุถุงูุฉ ูุชุนุฏูู ูุญุฐู ุงูุฃุฌูุฒุฉ ูููุฏูุฑ ููุทุ ุจูููุง ูููู ููููุธููู ุฑุคูุฉ ุงูุฃุฌูุฒุฉ ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ููุท.

## โ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend)
**ุงูููู**: `src/pages/PlayStation.tsx`

#### ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู:
```tsx
{/* ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู - ูููุฏูุฑ ููุท */}
{user?.role === 'admin' && (
  <div className="flex gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
    <button onClick={() => handleEditDevice(device)}>
      <Edit className="h-4 w-4" />
      ุชุนุฏูู
    </button>
    <button onClick={() => handleDeleteDevice(device)}>
      <Trash2 className="h-4 w-4" />
      ุญุฐู
    </button>
  </div>
)}
```

#### ุฒุฑ ุฅุถุงูุฉ ุฌูุงุฒ ุฌุฏูุฏ:
```tsx
{user?.role === 'admin' && (
  <button onClick={() => setShowAddDevice(true)}>
    <Plus className="h-5 w-5 ml-2" />
    ุฅุถุงูุฉ ุฌูุงุฒ
  </button>
)}
```

### 2. ุงูุฎุงุฏู (Backend)
**ุงูููู**: `server/controllers/deviceController.js`

#### ุฏุงูุฉ ุฅูุดุงุก ุฌูุงุฒ:
```javascript
createDevice: async (req, res) => {
    try {
        // Check if user is admin
        if (req.user.role !== 'admin') {
            return res.status(403).json({
                success: false,
                message: "ุบูุฑ ูุณููุญ - ุงููุฏูุฑ ููุท ููููู ุฅุถุงูุฉ ุฃุฌูุฒุฉ ุฌุฏูุฏุฉ",
                error: "Admin access required"
            });
        }
        // ... ุจุงูู ุงูููุฏ
    }
}
```

#### ุฏุงูุฉ ุชุนุฏูู ุฌูุงุฒ:
```javascript
updateDevice: async (req, res) => {
    try {
        // Check if user is admin
        if (req.user.role !== 'admin') {
            return res.status(403).json({
                success: false,
                message: "ุบูุฑ ูุณููุญ - ุงููุฏูุฑ ููุท ููููู ุชุนุฏูู ุงูุฃุฌูุฒุฉ",
                error: "Admin access required"
            });
        }
        // ... ุจุงูู ุงูููุฏ
    }
}
```

#### ุฏุงูุฉ ุญุฐู ุฌูุงุฒ:
```javascript
deleteDevice: async (req, res) => {
    try {
        // Check if user is admin
        if (req.user.role !== 'admin') {
            return res.status(403).json({
                success: false,
                message: "ุบูุฑ ูุณููุญ - ุงููุฏูุฑ ููุท ููููู ุญุฐู ุงูุฃุฌูุฒุฉ",
                error: "Admin access required"
            });
        }
        // ... ุจุงูู ุงูููุฏ
    }
}
```

## ๐ ูุณุชููุงุช ุงูุญูุงูุฉ

### 1. ุญูุงูุฉ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- โ ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู ูุฎููุฉ ููููุธููู
- โ ุฒุฑ ุฅุถุงูุฉ ุฌูุงุฒ ูุฎูู ููููุธููู
- โ ููุงูุฐ ุงูุชุนุฏูู ูุงูุญุฐู ูุง ุชุธูุฑ ููููุธููู

### 2. ุญูุงูุฉ ุงูุฎุงุฏู
- โ ูุญุต ุตูุงุญูุงุช ุงููุฏูุฑ ูู ุฌููุน ุนูููุงุช CRUD
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ูุญุงููุฉ ุงููุตูู ุบูุฑ ุงููุตุฑุญ
- โ ุฑูุฒ ุฎุทุฃ 403 (Forbidden) ููุทูุจุงุช ุบูุฑ ุงููุตุฑุญุฉ

## ๐ ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ

### ๐ ุงููุฏูุฑ (Admin):
- โ ุนุฑุถ ุฌููุน ุงูุฃุฌูุฒุฉ
- โ ุฅุถุงูุฉ ุฃุฌูุฒุฉ ุฌุฏูุฏุฉ
- โ ุชุนุฏูู ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏุฉ
- โ ุญุฐู ุงูุฃุฌูุฒุฉ (ุฅุฐุง ูู ุชูู ูุดุทุฉ)
- โ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช (ุจุฏุก/ุฅููุงุก/ุชุนุฏูู)

### ๐ค ุงูููุธู (Staff):
- โ ุนุฑุถ ุฌููุน ุงูุฃุฌูุฒุฉ
- โ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช (ุจุฏุก/ุฅููุงุก/ุชุนุฏูู)
- โ ุฅุถุงูุฉ ุฃุฌูุฒุฉ ุฌุฏูุฏุฉ
- โ ุชุนุฏูู ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏุฉ
- โ ุญุฐู ุงูุฃุฌูุฒุฉ

## ๐งช ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช

### ููู ุงูุงุฎุชุจุงุฑ:
`test-device-admin-permissions.html`

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:
1. **ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ**:
   - ุงูุจุฑูุฏ: `admin@bomba.com`
   - ูููุฉ ุงููุฑูุฑ: `admin123`

2. **ุชุณุฌูู ุฏุฎูู ุงูููุธู**:
   - ุงูุจุฑูุฏ: `staff@bomba.com`
   - ูููุฉ ุงููุฑูุฑ: `staff123`

3. **ุงุฎุชุจุงุฑ ุงูุนูููุงุช**:
   - ุฌูุจ ุงูุฃุฌูุฒุฉ (ูุฌุจ ุฃู ููุฌุญ ููุฌููุน)
   - ุฅุถุงูุฉ ุฌูุงุฒ (ูุฌุจ ุฃู ููุฌุญ ูููุฏูุฑ ููุท)
   - ุชุนุฏูู ุฌูุงุฒ (ูุฌุจ ุฃู ููุฌุญ ูููุฏูุฑ ููุท)
   - ุญุฐู ุฌูุงุฒ (ูุฌุจ ุฃู ููุฌุญ ูููุฏูุฑ ููุท)

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุนูุฏ ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ:
- โ ุฌููุน ุฃุฒุฑุงุฑ ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ุธุงูุฑุฉ
- โ ุฌููุน ุงูุนูููุงุช ุชุนูู ุจูุฌุงุญ
- โ ูููู ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุฃุฌูุฒุฉ

### ุนูุฏ ุชุณุฌูู ุฏุฎูู ุงูููุธู:
- โ ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู ูุฎููุฉ
- โ ุฒุฑ ุฅุถุงูุฉ ุฌูุงุฒ ูุฎูู
- โ ูููู ุฑุคูุฉ ุงูุฃุฌูุฒุฉ ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ููุท
- โ ูุญุงููุฉ ุงููุตูู ููู APIs ุชูุฑูุถ ุจุฑุณุงูุฉ ูุงุถุญุฉ

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

ุฅุฐุง ุงุญุชุฌุช ูุฅุถุงูุฉ ุฃุฏูุงุฑ ุฃุฎุฑู:

### ุฅุถุงูุฉ ุฏูุฑ "ูุดุฑู ุงูุฃุฌูุฒุฉ":
```javascript
// ูู ุงูุฎุงุฏู
if (req.user.role !== 'admin' && req.user.role !== 'device_manager') {
    return res.status(403).json({...});
}

// ูู ุงููุงุฌูุฉ
{(user?.role === 'admin' || user?.role === 'device_manager') && (
    <button>ุชุนุฏูู</button>
)}
```

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทุจูู ุชูููุฏ ุตูุงุญูุงุช ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ุจูุฌุงุญ:
- โ ุงููุฏูุฑ ููุท ููููู ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุฃุฌูุฒุฉ
- โ ุงูููุธููู ูููููู ุฑุคูุฉ ุงูุฃุฌูุฒุฉ ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ููุท
- โ ุญูุงูุฉ ูุฒุฏูุฌุฉ (ูุงุฌูุฉ + ุฎุงุฏู)
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- โ ุงุฎุชุจุงุฑ ุดุงูู ููุชุญูู ูู ุงูุตูุงุญูุงุช