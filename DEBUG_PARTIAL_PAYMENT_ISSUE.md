# ุชุดุฎูุต ูุดููุฉ ุนุฏู ุชุญุฏูุซ ุงูุฃุฑูุงู ุจุนุฏ ุงูุฏูุน ุงูุฌุฒุฆู

## ุงููุดููุฉ ุงููุจูุบ ุนููุง
ุงูุฃุฑูุงู ุชุธูุฑ ุงููููุฉ ูุงููุฉ ููุชุจููุฉ ุจุงูุฑุบู ูู ุฃูู ุชู ุฏูุน ุฌุฒุฆู.

## ุฎุทูุงุช ุงูุชุดุฎูุต

### 1. ุงูุชุญ Developer Tools ูู ุงููุชุตูุญ
- ุงุถุบุท F12 ุฃู Right Click โ Inspect
- ุงุฐูุจ ุฅูู ุชุจููุจ Console

### 2. ูู ุจุงูุฎุทูุงุช ุงูุชุงููุฉ:
1. ุงูุชุญ ูุงุชูุฑุฉ ุชุญุชูู ุนูู ุฃุตูุงู
2. ุงููุฑ ุนูู "ุฏูุน ูุดุฑูุจ ูุนูู"
3. ุงุฎุชุฑ ูููุฉ ููุฏูุน
4. ุงุถุบุท "ุชุฃููุฏ ุงูุฏูุน"
5. ุฑุงูุจ ุงูุฑุณุงุฆู ูู Console

### 3. ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู ูู Console:

#### ุฃ) ุนูุฏ ูุชุญ ูุงูุฐุฉ ุงูุฏูุน ุงูุฌุฒุฆู:
```
๐ PartialPaymentModal - Bill data: {
  billId: "...",
  itemPayments: [...],
  orders: [...]
}
```

#### ุจ) ุนูุฏ ุญุณุงุจ ุงููููุงุช ุงููุฏููุนุฉ:
```
๐ Checking payment: {
  paymentItemName: "...",
  itemName: "...",
  paymentPrice: ...,
  itemPrice: ...,
  paidQuantity: ...,
  nameMatch: true/false,
  priceMatch: true/false
}
```

#### ุฌ) ุจุนุฏ ุชุฃููุฏ ุงูุฏูุน:
```
๐ handlePartialPaymentSubmit - Updated bill after payment: {
  billId: "...",
  itemPayments: [...],
  paid: ...,
  remaining: ...,
  status: "..."
}
```

#### ุฏ) ุนูุฏ ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุนูุงุตุฑ:
```
๐ aggregateItemsWithPayments called with: {
  ordersCount: ...,
  itemPaymentsCount: ...,
  itemPayments: [...],
  billStatus: "...",
  billPaid: ...,
  billTotal: ...
}
```

## ุงูุฃุณุฆูุฉ ุงููููุฉ ููุชุดุฎูุต:

### 1. ูู `itemPayments` ููุฌูุฏ ูููุณ ูุงุฑุบุ
- ุงุจุญุซ ุนู `itemPayments: [...]` ูู Console
- ุฅุฐุง ูุงู ูุงุฑุบ `[]` ูุงููุดููุฉ ูู ุงูุฎุงุฏู
- ุฅุฐุง ูุงู `null` ุฃู `undefined` ูุงููุดููุฉ ูู API

### 2. ูู `paidQuantity` ููุฌูุฏ ูู itemPaymentsุ
- ุงุจุญุซ ุนู `paidQuantity: ...` ูู ูู payment
- ุฅุฐุง ูุงู `undefined` ุฃู `null` ูุงููุดููุฉ ูู ุงูุฎุงุฏู
- ุฅุฐุง ูุงู `0` ูุงููุดููุฉ ูู ุญูุธ ุงูุจูุงูุงุช

### 3. ูู ุฃุณูุงุก ุงูุฃุตูุงู ูุชุทุงุจูุฉุ
- ุงุจุญุซ ุนู `nameMatch: true/false`
- ุฅุฐุง ูุงู `false` ูููุงู ูุดููุฉ ูู ุฃุณูุงุก ุงูุฃุตูุงู
- ูุฏ ุชููู ููุงู ูุณุงูุงุช ุฒุงุฆุฏุฉ ุฃู ุฃุญุฑู ุฎุงุตุฉ

### 4. ูู ุงูุฃุณุนุงุฑ ูุชุทุงุจูุฉุ
- ุงุจุญุซ ุนู `priceMatch: true/false`
- ุฅุฐุง ูุงู `false` ูููุงู ุงุฎุชูุงู ูู ุงูุฃุณุนุงุฑ
- ูุฏ ูููู ููุงู ูุฑู ูู ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ

## ุงูุญููู ุงููุญุชููุฉ ุญุณุจ ุงููุชุงุฆุฌ:

### ุฅุฐุง ูุงู itemPayments ูุงุฑุบ:
```
ุงููุดููุฉ: ุงูุฎุงุฏู ูุง ูุญูุธ itemPayments ุจุดูู ุตุญูุญ
ุงูุญู: ูุญุต API endpoint /partial-payment ูู ุงูุฎุงุฏู
```

### ุฅุฐุง ูุงู paidQuantity = 0 ุฃู undefined:
```
ุงููุดููุฉ: ุงูุฎุงุฏู ูุง ูุญูุธ paidQuantity ุจุดูู ุตุญูุญ
ุงูุญู: ูุญุต ููููุฉ ุญูุธ paidQuantity ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### ุฅุฐุง ูุงู nameMatch = false:
```
ุงููุดููุฉ: ุนุฏู ุชุทุงุจู ุฃุณูุงุก ุงูุฃุตูุงู
ุงูุญู: ูุญุต ุงูุฃุณูุงุก ูู orders ู itemPayments
```

### ุฅุฐุง ูุงู priceMatch = false:
```
ุงููุดููุฉ: ุนุฏู ุชุทุงุจู ุงูุฃุณุนุงุฑ
ุงูุญู: ูุญุต ุงูุฃุณุนุงุฑ ูู orders ู itemPayments
```

## ุฎุทูุงุช ุงูุฅุตูุงุญ ุงููุชููุนุฉ:

### 1. ุฅุฐุง ูุงูุช ุงููุดููุฉ ูู ุงูุฎุงุฏู:
- ูุญุต API endpoint `/partial-payment`
- ุงูุชุฃูุฏ ูู ุญูุธ `paidQuantity` ูู `itemPayments`
- ุงูุชุฃูุฏ ูู ุฅุฑุณุงู ุงูุจูุงูุงุช ุงููุญุฏุซุฉ

### 2. ุฅุฐุง ูุงูุช ุงููุดููุฉ ูู ุงููุงุฌูุฉ:
- ูุญุต ุฏุงูุฉ `aggregateItemsWithPayments`
- ุงูุชุฃูุฏ ูู ุชุทุงุจู ุงูุฃุณูุงุก ูุงูุฃุณุนุงุฑ
- ูุญุต ููุทู ุญุณุงุจ `remainingQuantity`

### 3. ุฅุฐุง ูุงูุช ุงููุดููุฉ ูู ุงูุชุญุฏูุซ:
- ูุญุต Socket.IO events
- ุงูุชุฃูุฏ ูู ุชุญุฏูุซ `selectedBill`
- ูุญุต useEffect dependencies

## ูุนูููุงุช ุฅุถุงููุฉ ูุทููุจุฉ:

ูุฑุฌู ูุณุฎ ููุตู ุงููุชุงุฆุฌ ุงูุชุงููุฉ ูู Console:

1. **ุงูุจูุงูุงุช ุงูุฃูููุฉ ุนูุฏ ูุชุญ ุงููุงูุฐุฉ:**
```
๐ PartialPaymentModal - Bill data: { ... }
```

2. **ูุชุงุฆุฌ ูุญุต ุงููุฏููุนุงุช:**
```
๐ Checking payment: { ... }
```

3. **ุงูุจูุงูุงุช ุจุนุฏ ุงูุฏูุน:**
```
๐ handlePartialPaymentSubmit - Updated bill after payment: { ... }
```

4. **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ููุญุณุงุจ:**
```
๐ aggregateItemsWithPayments final result: { ... }
```

ุจูุงุกู ุนูู ูุฐู ุงููุนูููุงุชุ ุณุฃุชููู ูู ุชุญุฏูุฏ ุงููุดููุฉ ุงูุฏูููุฉ ูุฅุตูุงุญูุง.

## ููุงุญุธุฉ ูููุฉ:
ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู ูุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ. ุงููุดููุฉ ูุฏ ุชููู ูู:
- ุนุฏู ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฏู ุฅุฑุณุงู ุงูุจูุงูุงุช ุงููุญุฏุซุฉ ูู ุงูุฎุงุฏู
- ูุดููุฉ ูู ููุทู ุงูุญุณุงุจ ูู ุงููุงุฌูุฉ