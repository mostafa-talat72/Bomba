{"timestamp":"2025-08-05T18:00:00.521Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-05T18:00:00.502Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-05T18:00:01.282Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-05T18:00:01.282Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-05T18:00:03.050Z","level":"INFO","message":"Email sent successfully","messageId":"<71d8027b-75f7-0ce5-91bc-46d5cf29bc48@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-05T18:00:03.050Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-05T19:25:13.051Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-05T19:25:13.206Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-05T19:25:13.207Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-05T19:25:13.207Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-05T19:25:13.207Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-05T19:25:13.223Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-05T19:25:13.224Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-05T19:25:13.207Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-05T19:25:13.222Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-05T19:25:13.226Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-05T19:25:13.227Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-05T19:25:13.228Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-05T19:25:13.423Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-05T19:25:13.423Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-05T19:25:13.227Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-05T19:25:13.423Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-05T19:25:13.423Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-05T19:25:13.225Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-05T19:25:14.765Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-05T19:25:14.765Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-05T19:25:14.765Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-05T19:25:14.765Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-05T19:25:14.765Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-05T19:25:14.861Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-05T19:25:15.468Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-05T19:26:23.693Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-05T19:26:25.175Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-06T01:09:25.212Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T01:09:25.250Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T01:09:25.250Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T01:09:25.250Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T01:09:25.250Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T01:09:25.256Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T01:09:25.257Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T01:09:25.250Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T01:09:25.258Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T01:09:25.259Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T01:09:25.259Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T01:09:25.257Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T01:09:25.299Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T01:09:25.259Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T01:09:25.299Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T01:09:25.299Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T01:09:25.299Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T01:09:25.258Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T01:09:26.541Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T01:09:26.541Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T01:09:26.541Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T01:09:26.541Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T01:09:26.541Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T01:09:26.640Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T01:09:27.159Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T02:00:00.882Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-06T02:00:00.881Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"٦‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"٦‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-06T02:00:00.882Z","level":"INFO","message":"Daily report date range:","now":"2025-08-06T02:00:00.882Z","startOfReport":"2025-08-05T02:00:00.000Z","endOfReport":"2025-08-06T02:00:00.000Z","reportPeriod":"5 AM yesterday to 5 AM today"}
{"timestamp":"2025-08-06T02:00:01.000Z","level":"INFO","message":"Found 8 organizations for daily report"}
{"timestamp":"2025-08-06T02:00:01.171Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T02:00:01.180Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T02:00:01.360Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6884ca0edc00ea79cf8f9631","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-06T02:00:01.361Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":21,"totalSessions":0}}
{"timestamp":"2025-08-06T02:00:01.363Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T02:00:01.363Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:01.362Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-06T02:00:01.364Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T02:00:02.134Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T02:00:02.135Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:02.737Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:02.737Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T02:00:04.522Z","level":"INFO","message":"Email sent successfully","messageId":"<3e3e2e76-a184-009b-c5a6-7a181f7b3f6d@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:04.522Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T02:00:04.812Z","level":"INFO","message":"Email sent successfully","messageId":"<6f9cb458-f5a1-57fa-efd0-6370e49eca51@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:04.813Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-06T02:00:04.812Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:04.812Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-06T02:00:05.081Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68854b72f9e9cb00b72f1cc6","adminEmails":[]}
{"timestamp":"2025-08-06T02:00:05.081Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-06T02:00:05.353Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mo123258mo@gmail.com"],"reportData":{"organizationName":"mom","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-06T02:00:05.352Z","level":"INFO","message":"Organization \"mom\" has 1 admin emails:","organizationId":"68854d3cdeaed88db8316d71","adminEmails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-06T02:00:05.353Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - mom - ٥‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-06T02:00:05.353Z","level":"INFO","message":"Sending daily report to email","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-06T02:00:05.353Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T02:00:05.353Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T02:00:06.049Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T02:00:06.049Z","level":"INFO","message":"Sending email","to":"mo123258mo@gmail.com","subject":"📊 التقرير اليومي - mom - ٥‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:07.785Z","level":"INFO","message":"Email sent successfully","messageId":"<f9dbdb9a-adef-910f-bab9-4eed41b5f36b@gmail.com>","to":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-06T02:00:07.785Z","level":"INFO","message":"Daily report sent successfully","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-06T02:00:07.785Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"mom"}
{"timestamp":"2025-08-06T02:00:07.785Z","level":"INFO","message":"Daily report sent for organization: mom","organizationId":"68854d3cdeaed88db8316d71","adminCount":1,"emails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-06T02:00:08.045Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mostafa.taal3t@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-06T02:00:08.045Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"68854e33deaed88db8316f19","adminEmails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-06T02:00:08.045Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T02:00:08.045Z","level":"INFO","message":"Sending daily report to email","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-06T02:00:08.045Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-06T02:00:08.046Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T02:00:08.614Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T02:00:08.615Z","level":"INFO","message":"Sending email","to":"mostafa.taal3t@gmail.com","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:11.490Z","level":"INFO","message":"Email sent successfully","messageId":"<04050b0d-7d84-cc2e-2ef2-c9fc6c49539d@gmail.com>","to":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-06T02:00:11.490Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-06T02:00:11.490Z","level":"INFO","message":"Daily report sent successfully","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-06T02:00:11.490Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"68854e33deaed88db8316f19","adminCount":1,"emails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-06T02:00:11.754Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68861c0e166211623b3bd1e6","adminEmails":[]}
{"timestamp":"2025-08-06T02:00:11.754Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-06T02:00:12.005Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68862603166211623b3bd1f6","adminEmails":[]}
{"timestamp":"2025-08-06T02:00:12.006Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-06T02:00:12.267Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-06T02:00:12.267Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"688638d7166211623b3bd1fe","adminEmails":[]}
{"timestamp":"2025-08-06T02:00:12.518Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"688639ee166211623b3bd206","adminEmails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-06T02:00:12.519Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mr.robot192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-06T02:00:12.519Z","level":"INFO","message":"Sending daily report to email","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:12.519Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T02:00:12.519Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T02:00:12.519Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-06T02:00:13.113Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T02:00:13.113Z","level":"INFO","message":"Sending email","to":"mr.robot192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٥‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:15.395Z","level":"INFO","message":"Email sent successfully","messageId":"<f2b33c41-d1ac-caec-616c-1c9d8d554389@gmail.com>","to":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:15.395Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-06T02:00:15.395Z","level":"INFO","message":"Daily report sent successfully","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T02:00:15.395Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-06T02:00:15.395Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"688639ee166211623b3bd206","adminCount":1,"emails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-06T03:00:00.664Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T03:00:00.666Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T03:00:01.352Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T03:00:01.352Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T03:00:03.627Z","level":"INFO","message":"Email sent successfully","messageId":"<cbe79faf-4c17-faf8-4b80-1a86bf12eb04@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T03:00:03.628Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T03:09:03.919Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:09:03.965Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:09:03.966Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:09:03.965Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:09:03.966Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:09:03.966Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:09:03.971Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:09:03.972Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:09:03.972Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:09:03.973Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:09:03.973Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:09:03.974Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:09:03.974Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:09:03.974Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:09:04.016Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:09:04.016Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:09:04.017Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:09:04.017Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:09:05.297Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:09:05.298Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:09:05.298Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:09:05.298Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:09:05.298Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:09:05.389Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:09:05.882Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:09:24.014Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:09:24.051Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:09:24.051Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:09:24.051Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:09:24.051Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:09:24.051Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:09:24.056Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:09:24.057Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:09:24.057Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:09:24.058Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:09:24.058Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:09:24.058Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:09:24.059Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:09:24.095Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:09:24.059Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:09:24.095Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:09:24.095Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:09:24.095Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:09:26.320Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:09:26.321Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:09:26.321Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:09:26.321Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:09:26.321Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:09:26.408Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:09:26.930Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:09:35.459Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:09:35.527Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:09:35.527Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:09:35.528Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:09:35.528Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:09:35.528Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:09:35.538Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:09:35.539Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:09:35.539Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:09:35.540Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:09:35.540Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:09:35.541Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:09:35.541Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:09:35.541Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:09:35.602Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:09:35.603Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:09:35.603Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:09:35.603Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:09:36.885Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:09:36.885Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:09:36.885Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:09:36.886Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:09:36.886Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:09:36.983Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:09:37.601Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:09:46.032Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:09:46.067Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:09:46.067Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:09:46.067Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:09:46.067Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:09:46.067Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:09:46.073Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:09:46.074Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:09:46.074Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:09:46.075Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:09:46.076Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:09:46.077Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:09:46.077Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:09:46.077Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:09:46.117Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:09:46.117Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:09:46.117Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:09:46.117Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:09:47.161Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:09:47.161Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:09:47.161Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T03:09:47.161Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:09:47.161Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:09:47.266Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:09:47.837Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:09:54.439Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:09:54.475Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:09:54.475Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:09:54.475Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:09:54.475Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:09:54.475Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:09:54.480Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:09:54.481Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:09:54.481Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:09:54.481Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:09:54.482Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:09:54.482Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:09:54.482Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:09:54.483Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:09:54.516Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:09:54.516Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:09:54.516Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:09:54.516Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:09:55.622Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:09:55.623Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:09:55.622Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:09:55.623Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:09:55.623Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:09:55.714Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:09:56.213Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:12:13.738Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:12:13.779Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:12:13.780Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:12:13.780Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:12:13.780Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:12:13.780Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:12:13.785Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:12:13.785Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:12:13.786Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:12:13.786Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:12:13.787Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:12:13.787Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:12:13.787Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:12:13.787Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:12:13.832Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:12:13.832Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:12:13.832Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:12:13.832Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:12:15.003Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:12:15.004Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:12:15.004Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:12:15.004Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:12:15.004Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:12:15.094Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:12:15.622Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:14:07.452Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:14:07.498Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:14:07.498Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:14:07.498Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:14:07.499Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:14:07.499Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:14:07.504Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:14:07.505Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:14:07.505Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:14:07.506Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:14:07.507Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:14:07.507Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:14:07.507Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:14:07.507Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:14:07.545Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:14:07.545Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:14:07.545Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:14:07.545Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:14:08.651Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:14:08.651Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:14:08.651Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T03:14:08.652Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:14:08.651Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:14:08.744Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:14:09.449Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:15:54.749Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:15:54.795Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:15:54.796Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:15:54.796Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:15:54.796Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:15:54.797Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:15:54.806Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:15:54.807Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:15:54.808Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:15:54.810Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:15:54.810Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:15:54.811Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:15:54.811Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:15:54.812Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:15:54.859Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:15:54.860Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:15:54.860Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:15:54.859Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:15:56.099Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:15:56.100Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:15:56.100Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:15:56.100Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:15:56.100Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:15:56.191Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:15:56.737Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:17:02.955Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:17:03.004Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:17:03.005Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:17:03.005Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:17:03.005Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:17:03.006Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:17:03.011Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:17:03.012Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:17:03.013Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:17:03.013Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:17:03.014Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:17:03.015Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:17:03.016Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:17:03.016Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:17:03.056Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:17:03.057Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:17:03.057Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:17:03.057Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:17:04.232Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:17:04.232Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:17:04.232Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:17:04.232Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T03:17:04.232Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:17:04.335Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:17:04.850Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:17:23.123Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:17:23.255Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:17:23.256Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:17:23.256Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:17:23.256Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:17:23.258Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:17:23.278Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:17:23.282Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:17:23.284Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:17:23.286Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:17:23.281Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:17:23.287Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:17:23.288Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:17:23.289Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:17:23.376Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:17:23.376Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:17:23.376Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:17:23.377Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:17:24.587Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:17:24.587Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:17:24.587Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T03:17:24.587Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:17:24.587Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:17:24.695Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:17:25.272Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:19:20.629Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:19:20.671Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:19:20.671Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:19:20.671Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:19:20.672Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:19:20.671Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:19:20.678Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:19:20.679Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:19:20.679Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:19:20.680Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:19:20.681Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:19:20.681Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:19:20.682Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:19:20.682Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:19:20.717Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:19:20.717Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:19:20.717Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:19:20.717Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:19:21.832Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:19:21.832Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:19:21.832Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:19:21.832Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:19:21.832Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:19:21.927Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:19:22.463Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T03:19:57.753Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T03:19:57.797Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T03:19:57.797Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T03:19:57.798Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T03:19:57.798Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T03:19:57.798Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T03:19:57.804Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T03:19:57.804Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T03:19:57.805Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T03:19:57.805Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T03:19:57.806Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T03:19:57.806Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T03:19:57.807Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T03:19:57.807Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T03:19:57.855Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T03:19:57.855Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T03:19:57.855Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T03:19:57.855Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T03:19:58.877Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T03:19:58.877Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T03:19:58.878Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T03:19:58.877Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T03:19:58.877Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T03:19:58.986Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T03:19:59.472Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T04:00:01.255Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T04:00:01.266Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T04:00:02.124Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T04:00:02.124Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T04:00:05.904Z","level":"INFO","message":"Email sent successfully","messageId":"<9a4ffcaf-9545-3397-2749-5df031eb9bb7@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T04:00:05.904Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T05:00:00.769Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T05:00:00.773Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T05:00:01.487Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T05:00:01.488Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T05:00:03.373Z","level":"INFO","message":"Email sent successfully","messageId":"<c9bbc663-cbd4-1ab4-f668-42fc1d131db7@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T05:00:03.374Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T06:00:00.484Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T06:00:00.487Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T06:00:01.198Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T06:00:01.198Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T06:00:03.004Z","level":"INFO","message":"Email sent successfully","messageId":"<56826005-cd75-fc27-8f96-b291c1709c01@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T06:00:03.004Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T18:52:19.858Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:52:19.885Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:52:19.886Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:52:19.885Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:52:19.889Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:52:19.890Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:52:19.890Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:52:19.886Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:52:19.890Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:52:19.891Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:52:19.891Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:52:19.891Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:52:19.891Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:52:19.981Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:52:19.981Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:52:19.886Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:52:19.981Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:52:19.981Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:52:49.328Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:52:49.328Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T18:52:49.328Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:52:49.329Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T18:52:49.328Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:52:52.487Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:53:06.052Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T18:56:56.226Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:56:56.272Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:56:56.272Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:56:56.273Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:56:56.273Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:56:56.273Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:56:56.279Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:56:56.280Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:56:56.280Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:56:56.281Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:56:56.281Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:56:56.282Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:56:56.282Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:56:56.283Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:56:56.335Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:56:56.335Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:56:56.335Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:56:56.336Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:56:57.591Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:56:57.591Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:56:57.592Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T18:56:57.591Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T18:56:57.591Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:56:57.699Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:56:58.252Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T18:57:26.728Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:57:26.760Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:57:26.760Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:57:26.760Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:57:26.760Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:57:26.760Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:57:26.765Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:57:26.765Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:57:26.766Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:57:26.766Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:57:26.767Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:57:26.767Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:57:26.767Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:57:26.802Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:57:26.767Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:57:26.802Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:57:26.802Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:57:26.802Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:57:28.367Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:57:28.367Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:57:28.367Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T18:57:28.367Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T18:57:28.367Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:57:28.456Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:57:29.246Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T18:57:51.185Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:57:51.209Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:57:51.209Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:57:51.209Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:57:51.209Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:57:51.209Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:57:51.212Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:57:51.213Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:57:51.213Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:57:51.213Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:57:51.214Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:57:51.214Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:57:51.214Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:57:51.214Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:57:51.238Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:57:51.238Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:57:51.238Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:57:51.238Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:57:52.366Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:57:52.367Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:57:52.367Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T18:57:52.367Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T18:57:52.367Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:57:52.454Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:57:53.010Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T18:57:58.885Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:57:58.908Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:57:58.909Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:57:58.909Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:57:58.909Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:57:58.912Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:57:58.909Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:57:58.912Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:57:58.913Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:57:58.913Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:57:58.913Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:57:58.913Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:57:58.914Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:57:58.914Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:57:58.935Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:57:58.935Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:57:58.935Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:57:58.935Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:58:00.443Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:58:00.443Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:58:00.443Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T18:58:00.443Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T18:58:00.443Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:58:00.542Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:58:01.128Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T18:58:06.328Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T18:58:06.361Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T18:58:06.362Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T18:58:06.362Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T18:58:06.362Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T18:58:06.362Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T18:58:06.366Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T18:58:06.366Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T18:58:06.371Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T18:58:06.372Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T18:58:06.373Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T18:58:06.374Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T18:58:06.374Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T18:58:06.375Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T18:58:06.399Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T18:58:06.399Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T18:58:06.399Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T18:58:06.399Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T18:58:07.554Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T18:58:07.554Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T18:58:07.554Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T18:58:07.554Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T18:58:07.554Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T18:58:07.653Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T18:58:08.261Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:00:05.252Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T19:00:05.266Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T19:00:10.535Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T19:00:10.535Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T19:00:14.756Z","level":"INFO","message":"Email sent successfully","messageId":"<a0c40b7b-a71f-c482-3c90-4c5683a80f29@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T19:00:14.756Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-06T19:02:31.433Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:02:31.458Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:02:31.459Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:02:31.459Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:02:31.459Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:02:31.459Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:02:31.462Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:02:31.462Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:02:31.463Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:02:31.463Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:02:31.464Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:02:31.463Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:02:31.464Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:02:31.464Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:02:31.488Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:02:31.488Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:02:31.488Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:02:31.488Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:02:33.036Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:02:33.036Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:02:33.036Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T19:02:33.036Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:02:33.036Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:02:33.122Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:02:33.783Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:03:04.136Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:03:04.163Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:03:04.164Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:03:04.164Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:03:04.164Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:03:04.164Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:03:04.168Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:03:04.168Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:03:04.168Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:03:04.169Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:03:04.169Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:03:04.169Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:03:04.170Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:03:04.170Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:03:04.194Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:03:04.194Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:03:04.193Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:03:04.194Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:03:05.287Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:03:05.287Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:03:05.287Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T19:03:05.287Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:03:05.287Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:03:05.393Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:03:05.941Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:08:17.499Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:08:17.528Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:08:17.528Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:08:17.528Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:08:17.528Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:08:17.529Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:08:17.534Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:08:17.534Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:08:17.542Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:08:17.543Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:08:17.535Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:08:17.535Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:08:17.543Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:08:17.565Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:08:17.566Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:08:17.566Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:08:17.543Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:08:17.566Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:08:25.605Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:08:25.605Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:08:25.605Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:08:25.605Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T19:08:25.605Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:08:25.786Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:08:26.343Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:08:59.915Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:09:00.002Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:09:00.003Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:09:00.003Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:09:00.003Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:09:00.003Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:09:00.007Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:09:00.007Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:09:00.007Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:09:00.008Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:09:00.008Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:09:00.009Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:09:00.009Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:09:00.009Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:09:00.072Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:09:00.073Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:09:00.073Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:09:00.073Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:09:06.167Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:09:06.168Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:09:06.168Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:09:06.168Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:09:06.168Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:09:06.286Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:09:09.893Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:10:08.693Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:10:08.769Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:10:08.769Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:10:08.770Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:10:08.770Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:10:08.770Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:10:08.775Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:10:08.776Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:10:08.776Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:10:08.777Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:10:08.777Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:10:08.777Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:10:08.778Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:10:08.778Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:10:08.806Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:10:08.806Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:10:08.806Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:10:08.806Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:10:09.859Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:10:09.859Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:10:09.859Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:10:09.859Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T19:10:09.859Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:10:09.958Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:10:10.552Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:10:19.344Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:10:19.369Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:10:19.369Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:10:19.369Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:10:19.369Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:10:19.369Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:10:19.373Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:10:19.373Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:10:19.374Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:10:19.374Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:10:19.374Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:10:19.375Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:10:19.375Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:10:19.395Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:10:19.375Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:10:19.395Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:10:19.395Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:10:19.395Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:10:22.535Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:10:22.535Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:10:22.535Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:10:22.535Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:10:22.535Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:10:22.636Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:10:25.773Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:10:29.766Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:10:29.794Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:10:29.795Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:10:29.795Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:10:29.799Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:10:29.795Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:10:29.795Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:10:29.799Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:10:29.800Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:10:29.800Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:10:29.801Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:10:29.800Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:10:29.801Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:10:29.801Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:10:29.828Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:10:29.828Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:10:29.828Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:10:29.828Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:10:32.261Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:10:32.261Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:10:32.261Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:10:32.261Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:10:32.261Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:10:32.753Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:10:34.390Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:10:38.060Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:10:38.092Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:10:38.093Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:10:38.093Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:10:38.093Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:10:38.093Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:10:38.097Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:10:38.098Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:10:38.098Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:10:38.098Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:10:38.099Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:10:38.099Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:10:38.099Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:10:38.099Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:10:38.126Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:10:38.127Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:10:38.127Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:10:38.127Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:10:59.198Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:10:59.198Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:10:59.198Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:10:59.198Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:10:59.198Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:11:00.994Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:11:15.646Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:11:20.009Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:11:20.034Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:11:20.034Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:11:20.034Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:11:20.034Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:11:20.034Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:11:20.038Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:11:20.038Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:11:20.038Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:11:20.039Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:11:20.039Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:11:20.039Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:11:20.039Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:11:20.060Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:11:20.039Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:11:20.060Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:11:20.060Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:11:20.061Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:11:26.654Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:11:26.653Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:11:26.654Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-06T19:11:26.654Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:11:26.654Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:11:26.756Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:11:27.555Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T19:46:13.782Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-06T19:46:13.808Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-06T19:46:13.808Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-06T19:46:13.808Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-06T19:46:13.808Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-06T19:46:13.808Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-06T19:46:13.811Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-06T19:46:13.812Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-06T19:46:13.812Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-06T19:46:13.812Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-06T19:46:13.813Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-06T19:46:13.813Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-06T19:46:13.813Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-06T19:46:13.814Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-06T19:46:13.836Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-06T19:46:13.837Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-06T19:46:13.837Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-06T19:46:13.837Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-06T19:46:15.696Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-06T19:46:15.696Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-06T19:46:15.696Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-06T19:46:15.696Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-06T19:46:15.696Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-06T19:46:15.785Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-06T19:46:16.327Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-06T20:00:00.963Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-06T20:00:00.968Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-06T20:00:01.771Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-06T20:00:01.771Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-06T20:00:03.520Z","level":"INFO","message":"Email sent successfully","messageId":"<09918d7c-13c0-b100-f1db-9035e81759cd@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-06T20:00:03.520Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-07T02:26:35.480Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-07T02:26:44.048Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-07T02:26:44.125Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-07T02:27:06.091Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-07T02:27:06.123Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-07T02:27:06.123Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-07T02:27:06.123Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-07T02:27:06.123Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-07T02:27:06.124Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-07T02:27:06.129Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-07T02:27:06.130Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-07T02:27:06.131Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-07T02:27:06.132Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-07T02:27:06.132Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-07T02:27:06.133Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-07T02:27:06.133Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-07T02:27:06.133Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-07T02:27:06.161Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-07T02:27:06.161Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-07T02:27:06.161Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-07T02:27:06.161Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-07T02:27:07.907Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-07T02:27:07.907Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-07T02:27:07.907Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-07T02:27:07.907Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-07T02:27:07.907Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-07T02:27:08.025Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-07T02:27:08.586Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-07T02:43:03.577Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-07T02:43:14.114Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-07T02:59:34.708Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-07T02:59:34.773Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-07T02:59:34.773Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-07T02:59:34.773Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-07T02:59:34.774Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-07T02:59:34.774Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-07T02:59:34.790Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-07T02:59:34.790Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-07T02:59:34.791Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-07T02:59:34.792Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-07T02:59:34.792Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-07T02:59:34.793Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-07T02:59:34.793Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-07T02:59:34.825Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-07T02:59:34.793Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-07T02:59:34.825Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-07T02:59:34.825Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-07T02:59:34.826Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-07T02:59:36.036Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-07T02:59:36.036Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-07T02:59:36.036Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-07T02:59:36.037Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-07T02:59:36.037Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-07T02:59:36.146Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-07T02:59:36.679Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-07T03:00:00.288Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-07T03:00:00.296Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-07T03:00:01.073Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-07T03:00:01.073Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-07T03:00:03.169Z","level":"INFO","message":"Email sent successfully","messageId":"<ab5f25f1-ff14-4df3-7344-95ed71fe37b5@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-07T03:00:03.169Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-07T03:00:19.669Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-07T03:00:19.729Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-07T03:00:19.729Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-07T03:00:19.729Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-07T03:00:19.729Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-07T03:00:19.730Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-07T03:00:19.737Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-07T03:00:19.745Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-07T03:00:19.747Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-07T03:00:19.748Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-07T03:00:19.748Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-07T03:00:19.749Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-07T03:00:19.749Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-07T03:00:19.749Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-07T03:00:19.812Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-07T03:00:19.812Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-07T03:00:19.812Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-07T03:00:19.812Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-07T03:00:20.852Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-07T03:00:20.852Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-07T03:00:20.853Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-07T03:00:20.852Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-07T03:00:20.853Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-07T03:00:20.958Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-07T03:00:21.505Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-07T03:06:44.859Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-07T03:06:44.890Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-07T03:06:44.890Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-07T03:06:44.890Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-07T03:06:44.890Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-07T03:06:44.891Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-07T03:06:44.895Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-07T03:06:44.895Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-07T03:06:44.896Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-07T03:06:44.897Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-07T03:06:44.896Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-07T03:06:44.897Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-07T03:06:44.897Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-07T03:06:44.898Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-07T03:06:44.922Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-07T03:06:44.922Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-07T03:06:44.922Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-07T03:06:44.922Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-07T03:06:46.053Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-07T03:06:46.053Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-07T03:06:46.053Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-07T03:06:46.053Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-07T03:06:46.053Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-07T03:06:46.143Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-07T03:06:46.668Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-07T14:22:47.380Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-07T14:22:47.421Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-07T14:22:47.422Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-07T14:22:47.422Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-07T14:22:47.422Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-07T14:22:47.428Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-07T14:22:47.428Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-07T14:22:47.422Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-07T14:22:47.429Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-07T14:22:47.428Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-07T14:22:47.429Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-07T14:22:47.430Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-07T14:22:47.430Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-07T14:22:47.430Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-07T14:22:47.482Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-07T14:22:47.483Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-07T14:22:47.483Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-07T14:22:47.483Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-07T14:22:48.752Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-07T14:22:48.752Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-07T14:22:48.753Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-07T14:22:48.753Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-07T14:22:48.753Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-07T14:22:48.853Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-07T14:22:49.851Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-07T15:00:00.904Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-07T15:00:00.898Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-07T15:00:02.037Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-07T15:00:02.037Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-07T15:00:03.876Z","level":"INFO","message":"Email sent successfully","messageId":"<c5e84808-e684-644c-501f-6811e83d71d7@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-07T15:00:03.877Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T02:50:57.574Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T02:50:57.636Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T02:50:57.636Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T02:50:57.637Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T02:50:57.636Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T02:50:57.645Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T02:50:57.646Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T02:50:57.646Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T02:50:57.647Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T02:50:57.648Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T02:50:57.649Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T02:50:57.650Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T02:50:57.637Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T02:50:57.649Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T02:50:57.698Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T02:50:57.698Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T02:50:57.698Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T02:50:57.698Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T02:50:58.901Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T02:50:58.902Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T02:50:58.902Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T02:50:58.902Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T02:50:58.902Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T02:50:58.990Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T02:50:59.512Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T03:09:26.324Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T03:09:26.361Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T03:09:26.361Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T03:09:26.361Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T03:09:26.361Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T03:09:26.366Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T03:09:26.367Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T03:09:26.362Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T03:09:26.367Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T03:09:26.368Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T03:09:26.369Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T03:09:26.370Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T03:09:26.369Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T03:09:26.412Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T03:09:26.412Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T03:09:26.412Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T03:09:26.412Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T03:09:26.368Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T03:09:27.499Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T03:09:27.499Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T03:09:27.499Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T03:09:27.499Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T03:09:27.499Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T03:09:27.598Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T03:09:28.091Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T03:25:44.269Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T03:25:44.328Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T03:25:44.329Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T03:25:44.329Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T03:25:44.329Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T03:25:44.329Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T03:25:44.343Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T03:25:44.344Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T03:25:44.344Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T03:25:44.345Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T03:25:44.346Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T03:25:44.347Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T03:25:44.347Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T03:25:44.348Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T03:25:44.389Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T03:25:44.389Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T03:25:44.389Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T03:25:44.389Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T03:25:45.555Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T03:25:45.554Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T03:25:45.555Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T03:25:45.555Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T03:25:45.555Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T03:25:45.666Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T03:25:46.185Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T03:47:14.343Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T03:47:14.408Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T03:47:14.408Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T03:47:14.409Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T03:47:14.409Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T03:47:14.409Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T03:47:14.418Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T03:47:14.419Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T03:47:14.420Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T03:47:14.421Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T03:47:14.422Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T03:47:14.422Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T03:47:14.423Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T03:47:14.423Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T03:47:14.476Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T03:47:14.476Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T03:47:14.476Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T03:47:14.476Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T03:47:15.605Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T03:47:15.605Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T03:47:15.605Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T03:47:15.606Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T03:47:15.606Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T03:47:15.705Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T03:47:16.185Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T03:47:22.448Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T03:47:22.485Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T03:47:22.486Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T03:47:22.486Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T03:47:22.486Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T03:47:22.486Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T03:47:22.495Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T03:47:22.495Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T03:47:22.496Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T03:47:22.497Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T03:47:22.498Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T03:47:22.498Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T03:47:22.498Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T03:47:22.499Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T03:47:22.569Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T03:47:22.569Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T03:47:22.569Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T03:47:22.569Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T03:47:23.768Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T03:47:23.768Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T03:47:23.768Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T03:47:23.768Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T03:47:23.768Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T03:47:23.862Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T03:47:24.360Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T04:00:00.940Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T04:00:00.948Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T04:00:01.917Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T04:00:01.917Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T04:00:03.746Z","level":"INFO","message":"Email sent successfully","messageId":"<c6678255-8b54-3a12-2d85-aa8ff263fcf4@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T04:00:03.746Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-08T04:07:51.696Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T04:07:51.809Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T04:07:51.810Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T04:07:51.811Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T04:07:51.811Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T04:07:51.812Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T04:07:51.830Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T04:07:51.831Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T04:07:51.833Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T04:07:51.835Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T04:07:51.838Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T04:07:51.839Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T04:07:51.840Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T04:07:51.842Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T04:07:51.918Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T04:07:51.918Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T04:07:51.918Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T04:07:51.919Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T04:07:55.712Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T04:07:55.713Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T04:07:55.713Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T04:07:55.713Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T04:07:55.713Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T04:07:55.809Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T04:07:56.341Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T05:00:01.079Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T05:00:01.099Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T05:00:02.030Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T05:00:02.030Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T05:00:04.907Z","level":"INFO","message":"Email sent successfully","messageId":"<04d3c941-bd96-3093-17c4-25523483f33b@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T05:00:04.907Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-08T12:00:00.926Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T12:00:00.928Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T12:00:01.837Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T12:00:01.837Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T12:00:03.791Z","level":"INFO","message":"Email sent successfully","messageId":"<fa5b38a2-f51a-b9ec-f754-2d50f8656e9d@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T12:00:03.791Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-08T12:10:50.738Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T12:10:50.798Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T12:10:50.798Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T12:10:50.798Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T12:10:50.798Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T12:10:50.798Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T12:10:50.804Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T12:10:50.803Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T12:10:50.804Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T12:10:50.805Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T12:10:50.805Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T12:10:50.806Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T12:10:50.805Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T12:10:50.842Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T12:10:50.806Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T12:10:50.842Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T12:10:50.842Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T12:10:50.842Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T12:10:52.032Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T12:10:52.032Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T12:10:52.032Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T12:10:52.032Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T12:10:52.032Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T12:10:52.127Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T12:10:52.637Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T12:13:16.815Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T12:13:16.903Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T12:13:16.903Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T12:13:16.903Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T12:13:16.904Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T12:13:16.904Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T12:13:16.928Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T12:13:16.929Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T12:13:16.930Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T12:13:16.947Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T12:13:16.952Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T12:13:16.951Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T12:13:16.952Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T12:13:16.953Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T12:13:17.044Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T12:13:17.044Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T12:13:17.044Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T12:13:17.044Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T12:13:18.668Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T12:13:18.668Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T12:13:18.668Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T12:13:18.669Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T12:13:18.669Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T12:13:18.770Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T12:13:19.361Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T12:20:42.674Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T12:20:42.714Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T12:20:42.714Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T12:20:42.714Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T12:20:42.715Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T12:20:42.714Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T12:20:42.722Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T12:20:42.721Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T12:20:42.722Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T12:20:42.723Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T12:20:42.724Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T12:20:42.724Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T12:20:42.725Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T12:20:42.723Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T12:20:42.781Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T12:20:42.781Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T12:20:42.781Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T12:20:42.781Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T12:20:43.922Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T12:20:43.922Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T12:20:43.922Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T12:20:43.922Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T12:20:43.922Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T12:20:44.010Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T12:20:44.566Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T12:44:28.002Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T12:44:28.074Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T12:44:28.074Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T12:44:28.074Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T12:44:28.075Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T12:44:28.075Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T12:44:28.084Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T12:44:28.084Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T12:44:28.085Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T12:44:28.087Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T12:44:28.086Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T12:44:28.088Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T12:44:28.088Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T12:44:28.088Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T12:44:28.188Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T12:44:28.188Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T12:44:28.188Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T12:44:28.188Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T12:44:29.430Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T12:44:29.430Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T12:44:29.430Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T12:44:29.430Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T12:44:29.430Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T12:44:29.521Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T12:44:30.036Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T12:59:31.221Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T12:59:31.276Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T12:59:31.276Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T12:59:31.276Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T12:59:31.279Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T12:59:31.280Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T12:59:31.287Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T12:59:31.288Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T12:59:31.289Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T12:59:31.290Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T12:59:31.291Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T12:59:31.291Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T12:59:31.291Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T12:59:31.292Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T12:59:31.334Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T12:59:31.334Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T12:59:31.334Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T12:59:31.334Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T12:59:32.498Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T12:59:32.498Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T12:59:32.499Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T12:59:32.498Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T12:59:32.498Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T12:59:32.600Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T12:59:33.090Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:00:02.976Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:00:03.046Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:00:03.046Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:00:03.046Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:00:03.047Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:00:03.047Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:00:03.068Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:00:03.069Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:00:03.070Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:00:03.071Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:00:03.072Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:00:03.073Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:00:03.073Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:00:03.073Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:00:03.120Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:00:03.120Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:00:03.120Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:00:03.120Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:00:04.105Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:00:04.105Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:00:04.105Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:00:04.105Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:00:04.105Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:00:04.193Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:00:04.752Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:01:51.542Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:01:51.614Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:01:51.614Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:01:51.614Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:01:51.614Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:01:51.615Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:01:51.622Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:01:51.623Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:01:51.624Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:01:51.624Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:01:51.625Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:01:51.625Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:01:51.626Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:01:51.626Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:01:51.688Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:01:51.687Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:01:51.688Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:01:51.688Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:01:52.770Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:01:52.770Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:01:52.770Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:01:52.770Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:01:52.771Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:01:52.863Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:01:53.373Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:10:37.280Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:10:37.346Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:10:37.347Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:10:37.347Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:10:37.354Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:10:37.347Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:10:37.347Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:10:37.354Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:10:37.355Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:10:37.356Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:10:37.357Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:10:37.357Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:10:37.358Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:10:37.358Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:10:37.413Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:10:37.413Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:10:37.413Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:10:37.413Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:10:38.583Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:10:38.583Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:10:38.583Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:10:38.583Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T13:10:38.583Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:10:38.700Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:10:39.416Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:11:14.957Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:11:15.016Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:11:15.017Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:11:15.017Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:11:15.018Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:11:15.018Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:11:15.024Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:11:15.025Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:11:15.026Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:11:15.027Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:11:15.027Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:11:15.028Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:11:15.028Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:11:15.029Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:11:15.100Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:11:15.100Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:11:15.100Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:11:15.100Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:11:16.435Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:11:16.435Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:11:16.435Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:11:16.435Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:11:16.435Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:11:16.540Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:11:17.120Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:14:47.384Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:14:47.427Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:14:47.428Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:14:47.428Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:14:47.428Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:14:47.428Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:14:47.433Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:14:47.433Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:14:47.434Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:14:47.434Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:14:47.435Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:14:47.435Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:14:47.435Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:14:47.436Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:14:47.473Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:14:47.473Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:14:47.473Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:14:47.473Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:14:48.642Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:14:48.642Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:14:48.643Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T13:14:48.642Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:14:48.643Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:14:48.734Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:14:49.290Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:29:57.282Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:29:57.345Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:29:57.345Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:29:57.345Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:29:57.345Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:29:57.346Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:29:57.352Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:29:57.353Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:29:57.354Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:29:57.355Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:29:57.356Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:29:57.356Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:29:57.358Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:29:57.358Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:29:57.418Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:29:57.418Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:29:57.418Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:29:57.418Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:30:01.209Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:30:01.209Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:30:01.210Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:30:01.210Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:30:01.210Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:30:01.340Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:30:02.993Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:30:24.758Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:30:24.826Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:30:24.827Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:30:24.827Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:30:24.827Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:30:24.827Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:30:24.832Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:30:24.833Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:30:24.835Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:30:24.835Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:30:24.834Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:30:24.836Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:30:24.836Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:30:24.836Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:30:24.885Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:30:24.885Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:30:24.886Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:30:24.886Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:30:25.971Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:30:25.972Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:30:25.972Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T13:30:25.972Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:30:25.972Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:30:26.069Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:30:26.626Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:31:01.593Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:31:01.654Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:31:01.654Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:31:01.654Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:31:01.655Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:31:01.655Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:31:01.663Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:31:01.664Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:31:01.664Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:31:01.665Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:31:01.665Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:31:01.665Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:31:01.666Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:31:01.666Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:31:01.711Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:31:01.711Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:31:01.711Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:31:01.711Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:31:02.862Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:31:02.862Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:31:02.862Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:31:02.862Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:31:02.862Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:31:02.952Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:31:03.505Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:31:04.358Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T13:35:36.821Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:35:36.878Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:35:36.878Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:35:36.878Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:35:36.878Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:35:36.878Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:35:36.884Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:35:36.885Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:35:36.885Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:35:36.886Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:35:36.886Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:35:36.886Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:35:36.887Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:35:36.887Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:35:36.959Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:35:36.959Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:35:36.959Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:35:36.959Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:35:38.173Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:35:38.173Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:35:38.173Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:35:38.173Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:35:38.173Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:35:38.264Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:35:38.833Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:35:40.126Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T13:36:29.169Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:36:29.226Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:36:29.226Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:36:29.226Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:36:29.226Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:36:29.227Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:36:29.245Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:36:29.246Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:36:29.247Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:36:29.248Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:36:29.249Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:36:29.249Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:36:29.250Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:36:29.250Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:36:29.300Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:36:29.300Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:36:29.300Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:36:29.300Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:36:30.395Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:36:30.395Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:36:30.395Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:36:30.395Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T13:36:30.395Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:36:30.498Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:36:31.040Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:36:31.992Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T13:38:39.221Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:38:39.273Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:38:39.274Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:38:39.274Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:38:39.274Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:38:39.275Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:38:39.280Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:38:39.281Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:38:39.281Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:38:39.282Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:38:39.283Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:38:39.283Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:38:39.283Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:38:39.284Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:38:39.330Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:38:39.330Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:38:39.330Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:38:39.330Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:38:40.621Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:38:40.621Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:38:40.621Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:38:40.621Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T13:38:40.621Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:38:40.715Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:38:41.224Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:38:42.218Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T13:40:37.667Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T13:40:37.714Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T13:40:37.714Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T13:40:37.714Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T13:40:37.714Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T13:40:37.715Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T13:40:37.721Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T13:40:37.722Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T13:40:37.732Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T13:40:37.733Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T13:40:37.733Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T13:40:37.734Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T13:40:37.736Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T13:40:37.737Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T13:40:37.797Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T13:40:37.797Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T13:40:37.797Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T13:40:37.798Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T13:40:39.045Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T13:40:39.045Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T13:40:39.045Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T13:40:39.045Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T13:40:39.045Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T13:40:39.130Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T13:40:39.651Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T13:40:40.805Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:00:00.908Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T14:00:00.915Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T14:00:01.626Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T14:00:01.626Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T14:00:03.317Z","level":"INFO","message":"Email sent successfully","messageId":"<9c2fffd3-be56-5e55-def2-f04b0c405085@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T14:00:03.318Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-08T14:20:07.751Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:20:07.789Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:20:07.790Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:20:07.790Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:20:07.790Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:20:07.790Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:20:07.795Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:20:07.796Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:20:07.796Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:20:07.797Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:20:07.797Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:20:07.797Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:20:07.798Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:20:07.798Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:20:07.842Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:20:07.843Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:20:07.843Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:20:07.843Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:20:09.044Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:20:09.044Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:20:09.044Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:20:09.044Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T14:20:09.044Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:20:09.139Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:20:09.716Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:20:10.925Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:22:28.451Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:22:28.501Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:22:28.501Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:22:28.501Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:22:28.502Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:22:28.502Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:22:28.510Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:22:28.511Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:22:28.512Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:22:28.513Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:22:28.514Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:22:28.514Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:22:28.515Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:22:28.515Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:22:28.563Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:22:28.563Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:22:28.563Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:22:28.563Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:22:31.086Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:22:31.086Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:22:31.086Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:22:31.086Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T14:22:31.086Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:22:31.307Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:22:32.910Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:22:34.296Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:24:09.366Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:24:09.419Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:24:09.420Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:24:09.420Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:24:09.420Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:24:09.420Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:24:09.425Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:24:09.426Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:24:09.426Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:24:09.427Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:24:09.427Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:24:09.428Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:24:09.428Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:24:09.428Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:24:09.466Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:24:09.466Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:24:09.466Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:24:09.466Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:24:10.710Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:24:10.710Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T14:24:10.710Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:24:10.710Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T14:24:10.710Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:24:10.802Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:24:11.317Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:24:12.068Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:34:03.027Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:34:03.082Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:34:03.082Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:34:03.082Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:34:03.082Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:34:03.083Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:34:03.089Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:34:03.090Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:34:03.091Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:34:03.091Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:34:03.092Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:34:03.092Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:34:03.093Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:34:03.136Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:34:03.093Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:34:03.136Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:34:03.137Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:34:03.137Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:34:04.302Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:34:04.302Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:34:04.303Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T14:34:04.303Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:34:04.303Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:34:04.405Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:34:04.945Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:34:05.722Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:37:46.533Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:37:46.581Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:37:46.582Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:37:46.582Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:37:46.583Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:37:46.583Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:37:46.589Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:37:46.590Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:37:46.591Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:37:46.591Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:37:46.592Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:37:46.592Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:37:46.593Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:37:46.593Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:37:46.632Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:37:46.632Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:37:46.632Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:37:46.632Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:37:47.830Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:37:47.830Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:37:47.830Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T14:37:47.830Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T14:37:47.830Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:37:47.922Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:37:48.477Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:37:49.476Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:38:47.068Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:38:47.132Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:38:47.132Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:38:47.132Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:38:47.132Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:38:47.133Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:38:47.137Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:38:47.138Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:38:47.138Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:38:47.139Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:38:47.140Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:38:47.140Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:38:47.140Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:38:47.140Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:38:47.188Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:38:47.188Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:38:47.188Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:38:47.188Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:38:48.428Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:38:48.428Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:38:48.428Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T14:38:48.428Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:38:48.428Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:38:48.523Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:38:49.067Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:38:49.781Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T14:39:10.935Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T14:39:10.996Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T14:39:10.996Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T14:39:10.996Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T14:39:10.996Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T14:39:10.997Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T14:39:11.005Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T14:39:11.006Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T14:39:11.006Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T14:39:11.007Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T14:39:11.009Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T14:39:11.008Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T14:39:11.009Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T14:39:11.009Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T14:39:11.069Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T14:39:11.069Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T14:39:11.069Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T14:39:11.069Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T14:39:12.120Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T14:39:12.120Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T14:39:12.120Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T14:39:12.120Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T14:39:12.121Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T14:39:12.206Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T14:39:12.752Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T14:39:13.560Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T15:00:00.747Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T15:00:00.753Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T15:00:01.904Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T15:00:01.904Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T15:00:03.787Z","level":"INFO","message":"Email sent successfully","messageId":"<7f1cf14e-99c2-be5e-c8d4-78f748c44dbc@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T15:00:03.787Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-08T15:20:17.204Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-08T15:20:17.752Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-08T15:20:58.570Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T15:20:58.721Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T15:20:58.722Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T15:20:58.723Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T15:20:58.723Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T15:20:58.723Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T15:20:58.735Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T15:20:58.736Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T15:20:58.737Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T15:20:58.738Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T15:20:58.739Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T15:20:58.740Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T15:20:58.740Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T15:20:58.741Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T15:20:58.876Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T15:20:58.876Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T15:20:58.879Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T15:20:58.879Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T15:21:00.301Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T15:21:00.301Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T15:21:00.301Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T15:21:00.301Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T15:21:00.301Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T15:21:00.440Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T15:21:01.080Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T15:21:03.388Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T15:23:48.463Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T15:23:48.528Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T15:23:48.529Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T15:23:48.529Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T15:23:48.529Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T15:23:48.529Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T15:23:48.538Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T15:23:48.539Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T15:23:48.539Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T15:23:48.541Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T15:23:48.540Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T15:23:48.541Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T15:23:48.541Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T15:23:48.542Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T15:23:48.606Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T15:23:48.605Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T15:23:48.606Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T15:23:48.606Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T15:23:49.849Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T15:23:49.849Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T15:23:49.849Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T15:23:49.849Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T15:23:49.849Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T15:23:49.948Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T15:23:50.674Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T15:23:51.612Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T15:33:47.611Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T15:33:47.727Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T15:33:47.727Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T15:33:47.728Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T15:33:47.728Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T15:33:47.739Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T15:33:47.728Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T15:33:47.739Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T15:33:47.740Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T15:33:47.741Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T15:33:47.742Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T15:33:47.743Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T15:33:47.743Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T15:33:47.744Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T15:33:47.816Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T15:33:47.816Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T15:33:47.816Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T15:33:47.816Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T15:33:49.438Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T15:33:49.438Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T15:33:49.438Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T15:33:49.438Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T15:33:49.438Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T15:33:49.554Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T15:33:50.208Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T15:33:51.181Z","level":"INFO","message":"✅ Database connection established and indexes verified"}
{"timestamp":"2025-08-08T16:01:03.178Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T16:01:03.255Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T16:01:03.256Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T16:01:03.256Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T16:01:03.262Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T16:01:03.263Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T16:01:03.256Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T16:01:03.256Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T16:01:03.263Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T16:01:03.264Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T16:01:03.265Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T16:01:03.265Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T16:01:03.303Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T16:01:03.304Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T16:01:03.265Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T16:01:03.264Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T16:01:03.304Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T16:01:03.304Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T16:01:04.739Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T16:01:04.739Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T16:01:04.739Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T16:01:04.739Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T16:01:04.740Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T16:01:04.835Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T16:01:05.362Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T16:05:46.192Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T16:05:46.255Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T16:05:46.256Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T16:05:46.256Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T16:05:46.256Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T16:05:46.256Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T16:05:46.265Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T16:05:46.265Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T16:05:46.266Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T16:05:46.267Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T16:05:46.268Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T16:05:46.268Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T16:05:46.269Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T16:05:46.269Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T16:05:46.318Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T16:05:46.318Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T16:05:46.318Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T16:05:46.318Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T16:05:47.708Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T16:05:47.708Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T16:05:47.708Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T16:05:47.708Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T16:05:47.708Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T16:05:47.798Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T16:05:48.335Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T16:37:18.109Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T16:37:18.175Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T16:37:18.175Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T16:37:18.176Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T16:37:18.176Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T16:37:18.176Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T16:37:18.184Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T16:37:18.185Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T16:37:18.186Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T16:37:18.187Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T16:37:18.189Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T16:37:18.189Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T16:37:18.190Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T16:37:18.190Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T16:37:18.246Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T16:37:18.246Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T16:37:18.246Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T16:37:18.246Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T16:37:19.376Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T16:37:19.376Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T16:37:19.377Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T16:37:19.376Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T16:37:19.377Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T16:37:19.466Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T16:37:20.000Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T16:38:45.763Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T16:38:45.823Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T16:38:45.823Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T16:38:45.823Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T16:38:45.823Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T16:38:45.824Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T16:38:45.833Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T16:38:45.834Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T16:38:45.835Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T16:38:45.836Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T16:38:45.837Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T16:38:45.837Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T16:38:45.838Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T16:38:45.839Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T16:38:45.894Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T16:38:45.894Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T16:38:45.894Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T16:38:45.894Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T16:38:47.136Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T16:38:47.136Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T16:38:47.136Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T16:38:47.136Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T16:38:47.136Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T16:38:47.228Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T16:38:47.777Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T16:39:39.627Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T16:39:39.684Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T16:39:39.684Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T16:39:39.684Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T16:39:39.684Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T16:39:39.685Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T16:39:39.691Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T16:39:39.692Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T16:39:39.692Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T16:39:39.693Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T16:39:39.694Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T16:39:39.694Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T16:39:39.694Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T16:39:39.694Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T16:39:39.747Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T16:39:39.747Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T16:39:39.747Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T16:39:39.747Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T16:39:40.770Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T16:39:40.770Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T16:39:40.770Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T16:39:40.770Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T16:39:40.770Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T16:39:40.860Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T16:39:41.396Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T17:00:00.939Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T17:00:00.962Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T17:00:01.711Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T17:00:01.712Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T17:00:03.520Z","level":"INFO","message":"Email sent successfully","messageId":"<3c910d91-6e28-ee7a-8986-7f3f70347b95@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T17:00:03.521Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T17:46:26.362Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T17:46:26.444Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T17:46:26.444Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T17:46:26.444Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T17:46:26.444Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T17:46:26.445Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T17:46:26.454Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T17:46:26.455Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T17:46:26.456Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T17:46:26.457Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T17:46:26.465Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T17:46:26.466Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T17:46:26.466Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T17:46:26.467Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T17:46:26.568Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T17:46:26.567Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T17:46:26.568Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T17:46:26.568Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T17:46:27.961Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T17:46:27.961Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T17:46:27.962Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T17:46:27.962Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T17:46:27.962Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T17:46:28.066Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T17:46:28.590Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T17:46:51.920Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T17:46:52.002Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T17:46:52.002Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T17:46:52.002Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T17:46:52.002Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T17:46:52.003Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T17:46:52.011Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T17:46:52.012Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T17:46:52.013Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T17:46:52.014Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T17:46:52.015Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T17:46:52.015Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T17:46:52.016Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T17:46:52.016Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T17:46:52.086Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T17:46:52.086Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T17:46:52.086Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T17:46:52.086Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T17:46:53.320Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T17:46:53.321Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T17:46:53.321Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T17:46:53.321Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T17:46:53.321Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T17:46:53.418Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T17:46:54.001Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T17:47:13.186Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T17:47:13.272Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T17:47:13.273Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T17:47:13.273Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T17:47:13.273Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T17:47:13.273Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T17:47:13.284Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T17:47:13.285Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T17:47:13.286Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T17:47:13.289Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T17:47:13.290Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T17:47:13.291Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T17:47:13.292Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T17:47:13.292Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T17:47:13.357Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T17:47:13.357Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T17:47:13.357Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T17:47:13.357Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T17:47:14.451Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T17:47:14.451Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T17:47:14.451Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T17:47:14.451Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T17:47:14.451Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T17:47:14.567Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T17:47:15.127Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T18:00:00.569Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T18:00:00.579Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T18:00:01.418Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T18:00:01.418Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T18:00:03.711Z","level":"INFO","message":"Email sent successfully","messageId":"<a8747bf0-e3a1-cf08-1a5a-506eb3426e05@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T18:00:03.711Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T18:59:56.414Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T18:59:56.460Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T18:59:56.461Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T18:59:56.461Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T18:59:56.461Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T18:59:56.467Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T18:59:56.461Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T18:59:56.468Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T18:59:56.468Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T18:59:56.469Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T18:59:56.469Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T18:59:56.470Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T18:59:56.470Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T18:59:56.470Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T18:59:56.516Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T18:59:56.516Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T18:59:56.516Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T18:59:56.516Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T18:59:57.900Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T18:59:57.900Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T18:59:57.901Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T18:59:57.901Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T18:59:57.901Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T18:59:58.007Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T18:59:58.532Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:00:00.898Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T19:00:00.875Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T19:00:02.777Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T19:00:02.777Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T19:00:05.824Z","level":"INFO","message":"Email sent successfully","messageId":"<b9cfc4fd-3458-8cac-b17a-f78a25a0c27d@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T19:00:05.825Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T19:01:12.383Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:01:12.459Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:01:12.460Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:01:12.460Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:01:12.460Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:01:12.460Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:01:12.466Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:01:12.467Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:01:12.468Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:01:12.468Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:01:12.469Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:01:12.469Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:01:12.470Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:01:12.470Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:01:12.535Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:01:12.535Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:01:12.535Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:01:12.535Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:01:13.932Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:01:13.932Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:01:13.932Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:01:13.932Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:01:13.932Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:01:14.025Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:01:14.669Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:03:05.846Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:03:05.934Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:03:05.935Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:03:05.935Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:03:05.935Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:03:05.936Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:03:05.944Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:03:05.945Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:03:05.946Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:03:05.947Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:03:05.947Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:03:05.947Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:03:05.948Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:03:05.948Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:03:06.006Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:03:06.006Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:03:06.006Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:03:06.006Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:03:07.277Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:03:07.277Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:03:07.277Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T19:03:07.277Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:03:07.277Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:03:07.376Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:03:07.895Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:03:12.039Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:03:12.094Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:03:12.094Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:03:12.095Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:03:12.095Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:03:12.095Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:03:12.101Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:03:12.102Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:03:12.102Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:03:12.103Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:03:12.104Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:03:12.105Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:03:12.106Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:03:12.106Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:03:12.150Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:03:12.150Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:03:12.150Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:03:12.150Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:03:13.293Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:03:13.294Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:03:13.294Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:03:13.294Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:03:13.294Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:03:13.397Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:03:13.995Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:03:30.876Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:03:30.926Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:03:30.926Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:03:30.926Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:03:30.933Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:03:30.926Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:03:30.935Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:03:30.936Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:03:30.927Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:03:30.937Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:03:30.937Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:03:30.937Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:03:30.938Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:03:30.938Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:03:30.974Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:03:30.974Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:03:30.974Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:03:30.974Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:03:32.193Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:03:32.193Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:03:32.193Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:03:32.194Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:03:32.193Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:03:32.295Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:03:32.908Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:05:32.185Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:05:32.239Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:05:32.239Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:05:32.239Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:05:32.239Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:05:32.239Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:05:32.245Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:05:32.246Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:05:32.246Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:05:32.247Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:05:32.248Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:05:32.249Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:05:32.250Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:05:32.250Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:05:32.306Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:05:32.306Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:05:32.306Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:05:32.306Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:06:03.460Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:06:03.460Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:06:03.460Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T19:06:03.460Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:06:03.460Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:06:14.462Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:06:14.514Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:06:14.514Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:06:14.514Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:06:14.514Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:06:14.520Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:06:14.515Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:06:14.520Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:06:14.521Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:06:14.521Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:06:14.522Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:06:14.522Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:06:14.522Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:06:14.522Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:06:14.559Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:06:14.559Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:06:14.559Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:06:14.559Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:06:46.481Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:06:46.481Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:06:46.481Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:06:46.481Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T19:06:46.481Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:06:50.195Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:07:05.927Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:07:13.197Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:07:13.263Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:07:13.264Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:07:13.264Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:07:13.264Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:07:13.264Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:07:13.272Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:07:13.273Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:07:13.273Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:07:13.274Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:07:13.274Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:07:13.275Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:07:13.275Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:07:13.275Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:07:13.327Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:07:13.327Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:07:13.327Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:07:13.327Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:07:14.885Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:07:14.884Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:07:14.885Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:07:14.885Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:07:14.885Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:07:14.969Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:07:15.606Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:10:43.945Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T19:10:44.006Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T19:10:44.007Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T19:10:44.007Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T19:10:44.007Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T19:10:44.008Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T19:10:44.016Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T19:10:44.017Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T19:10:44.017Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T19:10:44.018Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T19:10:44.019Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T19:10:44.020Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T19:10:44.021Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T19:10:44.022Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T19:10:44.083Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T19:10:44.083Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T19:10:44.083Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T19:10:44.083Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T19:11:02.720Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T19:11:02.719Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T19:11:02.720Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T19:11:02.720Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T19:11:02.720Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T19:11:03.691Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T19:11:53.710Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T19:11:54.663Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-08T19:12:12.340Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-08T20:00:01.441Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T20:00:01.422Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T20:00:02.637Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T20:00:02.638Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T20:00:04.624Z","level":"INFO","message":"Email sent successfully","messageId":"<9ce603ab-17e7-defd-b409-0610ba48bb70@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T20:00:04.625Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T20:56:54.970Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T20:56:55.045Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T20:56:55.045Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T20:56:55.046Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T20:56:55.046Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T20:56:55.045Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T20:56:55.054Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T20:56:55.055Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T20:56:55.055Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T20:56:55.056Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T20:56:55.057Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T20:56:55.058Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T20:56:55.058Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T20:56:55.059Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T20:56:55.126Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T20:56:55.126Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T20:56:55.126Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T20:56:55.126Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T20:56:56.536Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T20:56:56.536Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T20:56:56.536Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T20:56:56.537Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T20:56:56.536Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T20:56:56.640Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T20:56:57.248Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T20:57:08.041Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T20:57:08.113Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T20:57:08.113Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T20:57:08.113Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T20:57:08.113Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T20:57:08.114Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T20:57:08.122Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T20:57:08.123Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T20:57:08.124Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T20:57:08.123Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T20:57:08.125Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T20:57:08.125Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T20:57:08.125Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T20:57:08.126Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T20:57:08.189Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T20:57:08.189Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T20:57:08.189Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T20:57:08.189Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T20:57:09.309Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T20:57:09.309Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T20:57:09.309Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T20:57:09.309Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T20:57:09.309Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T20:57:09.420Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T20:57:09.973Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T20:58:00.993Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T20:58:01.055Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T20:58:01.055Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T20:58:01.056Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T20:58:01.057Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T20:58:01.057Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T20:58:01.065Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T20:58:01.066Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T20:58:01.067Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T20:58:01.068Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T20:58:01.069Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T20:58:01.069Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T20:58:01.070Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T20:58:01.070Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T20:58:01.139Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T20:58:01.140Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T20:58:01.140Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T20:58:01.140Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T20:58:02.381Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T20:58:02.382Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T20:58:02.382Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T20:58:02.382Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T20:58:02.382Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T20:58:02.474Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T20:58:03.014Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:00:00.407Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T21:00:00.414Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T21:00:01.184Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T21:00:01.184Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T21:00:02.857Z","level":"INFO","message":"Email sent successfully","messageId":"<ff799b7c-eb39-350f-6ee3-e7d4d83fc329@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T21:00:02.858Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T21:16:33.530Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:16:33.627Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:16:33.627Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:16:33.627Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:16:33.627Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:16:33.637Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:16:33.654Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:16:33.655Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:16:33.661Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:16:33.662Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:16:33.663Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:16:33.663Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:16:33.664Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:16:33.666Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:16:33.748Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:16:33.748Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:16:33.748Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:16:33.748Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:16:35.183Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:16:35.184Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:16:35.184Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:16:35.184Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:16:35.183Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:16:35.277Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:16:35.808Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:30:55.286Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-08T21:30:55.684Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-08T21:38:04.549Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:38:04.611Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:38:04.611Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:38:04.612Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:38:04.612Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:38:04.612Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:38:04.621Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:38:04.621Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:38:04.622Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:38:04.623Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:38:04.624Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:38:04.625Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:38:04.626Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:38:04.626Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:38:04.683Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:38:04.683Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:38:04.683Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:38:04.683Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:38:07.579Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:38:07.580Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:38:07.580Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:38:07.580Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:38:07.580Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:38:07.699Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:38:08.242Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:39:14.084Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:39:14.160Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:39:14.160Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:39:14.160Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:39:14.161Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:39:14.161Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:39:14.173Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:39:14.174Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:39:14.174Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:39:14.175Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:39:14.176Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:39:14.176Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:39:14.177Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:39:14.177Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:39:14.235Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:39:14.235Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:39:14.235Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:39:14.235Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:39:15.546Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:39:15.546Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:39:15.546Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:39:15.547Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:39:15.546Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:39:15.655Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:39:16.220Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:44:24.448Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:44:24.510Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:44:24.510Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:44:24.511Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:44:24.511Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:44:24.511Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:44:24.517Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:44:24.518Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:44:24.519Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:44:24.520Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:44:24.520Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:44:24.521Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:44:24.521Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:44:24.522Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:44:24.570Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:44:24.570Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:44:24.570Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:44:24.570Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:44:26.089Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:44:26.089Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:44:26.089Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:44:26.090Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:44:26.089Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:44:26.187Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:44:26.688Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:44:49.698Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:44:49.781Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:44:49.781Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:44:49.783Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:44:49.784Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:44:49.784Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:44:49.793Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:44:49.794Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:44:49.795Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:44:49.808Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:44:49.812Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:44:49.812Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:44:49.813Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:44:49.813Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:44:49.877Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:44:49.878Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:44:49.878Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:44:49.878Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:44:51.042Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:44:51.042Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:44:51.042Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:44:51.043Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:44:51.043Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:44:51.141Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:44:51.710Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:45:01.737Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:45:01.796Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:45:01.796Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:45:01.797Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:45:01.797Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:45:01.798Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:45:01.806Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:45:01.807Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:45:01.808Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:45:01.809Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:45:01.810Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:45:01.811Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:45:01.811Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:45:01.812Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:45:01.868Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:45:01.868Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:45:01.869Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:45:01.869Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:45:03.003Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:45:03.003Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:45:03.003Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:45:03.003Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:45:03.003Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:45:03.096Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:45:03.608Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:47:18.055Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:47:18.115Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:47:18.115Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:47:18.115Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:47:18.115Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:47:18.116Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:47:18.124Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:47:18.124Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:47:18.125Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:47:18.126Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:47:18.126Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:47:18.127Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:47:18.127Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:47:18.128Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:47:18.193Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:47:18.194Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:47:18.194Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:47:18.194Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:47:19.446Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:47:19.446Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:47:19.446Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:47:19.447Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:47:19.447Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:47:19.545Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:47:20.069Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:48:12.271Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:48:12.353Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:48:12.353Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:48:12.353Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:48:12.353Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:48:12.354Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:48:12.374Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:48:12.375Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:48:12.376Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:48:12.378Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:48:12.379Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:48:12.380Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:48:12.381Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:48:12.381Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:48:12.447Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:48:12.447Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:48:12.447Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:48:12.448Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:48:13.628Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:48:13.628Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:48:13.628Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:48:13.628Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:48:13.628Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:48:13.718Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:48:14.300Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:49:14.524Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:49:14.592Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:49:14.592Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:49:14.592Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:49:14.593Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:49:14.605Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:49:14.617Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:49:14.593Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:49:14.604Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:49:14.618Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:49:14.619Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:49:14.619Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:49:14.620Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:49:14.620Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:49:14.687Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:49:14.687Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:49:14.688Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:49:14.688Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:49:15.865Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:49:15.865Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:49:15.865Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:49:15.865Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:49:15.865Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:49:15.966Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:49:16.528Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:49:50.080Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:49:50.142Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:49:50.143Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:49:50.143Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:49:50.143Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:49:50.143Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:49:50.152Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:49:50.153Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:49:50.154Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:49:50.155Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:49:50.156Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:49:50.157Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:49:50.158Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:49:50.158Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:49:50.229Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:49:50.228Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:49:50.229Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:49:50.229Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:49:51.426Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:49:51.426Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:49:51.426Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:49:51.426Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:49:51.426Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:49:51.539Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:49:52.103Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:50:51.495Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:50:51.542Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:50:51.542Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:50:51.542Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:50:51.542Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:50:51.543Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:50:51.551Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:50:51.552Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:50:51.553Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:50:51.562Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:50:51.563Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:50:51.564Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:50:51.565Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:50:51.564Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:50:51.621Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:50:51.621Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:50:51.621Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:50:51.621Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:50:52.823Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:50:52.823Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:50:52.823Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:50:52.823Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:50:52.823Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:50:52.926Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:50:53.459Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:50:58.158Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:50:58.195Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:50:58.196Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:50:58.196Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:50:58.196Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:50:58.196Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:50:58.201Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:50:58.202Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:50:58.202Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:50:58.203Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:50:58.203Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:50:58.203Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:50:58.203Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:50:58.204Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:50:58.238Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:50:58.238Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:50:58.238Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:50:58.238Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:50:59.355Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:50:59.355Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:50:59.355Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:50:59.355Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:50:59.355Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:50:59.458Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:51:00.033Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:53:59.679Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:53:59.723Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:53:59.724Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:53:59.724Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:53:59.724Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:53:59.724Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:53:59.730Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:53:59.731Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:53:59.731Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:53:59.732Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:53:59.732Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:53:59.733Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:53:59.733Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:53:59.733Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:53:59.779Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:53:59.779Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:53:59.779Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:53:59.779Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:54:01.136Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:54:01.136Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:54:01.136Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:54:01.136Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T21:54:01.136Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:54:01.234Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:54:01.735Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T21:56:32.517Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T21:56:32.618Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T21:56:32.619Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T21:56:32.619Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T21:56:32.620Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T21:56:32.620Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T21:56:32.644Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T21:56:32.644Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T21:56:32.645Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T21:56:32.647Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T21:56:32.651Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T21:56:32.651Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T21:56:32.652Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T21:56:32.652Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T21:56:32.805Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T21:56:32.805Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T21:56:32.805Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T21:56:32.805Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T21:56:34.081Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T21:56:34.081Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T21:56:34.081Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T21:56:34.081Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T21:56:34.081Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T21:56:34.175Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T21:56:34.748Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:00:00.774Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T22:00:00.782Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T22:00:01.690Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T22:00:01.690Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T22:00:03.424Z","level":"INFO","message":"Email sent successfully","messageId":"<37c1e280-82e5-bbd8-2d44-3a24008cf082@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T22:00:03.424Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-08T22:00:44.619Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:00:44.706Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:00:44.706Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:00:44.706Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:00:44.706Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:00:44.707Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:00:44.719Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:00:44.720Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:00:44.721Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:00:44.722Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:00:44.723Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:00:44.724Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:00:44.724Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:00:44.725Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:00:44.846Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:00:44.847Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:00:44.847Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:00:44.890Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:00:46.467Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:00:46.467Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:00:46.467Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:00:46.467Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:00:46.468Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:00:46.578Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:00:47.123Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:01:12.062Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:01:12.129Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:01:12.129Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:01:12.129Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:01:12.129Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:01:12.130Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:01:12.137Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:01:12.138Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:01:12.139Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:01:12.140Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:01:12.141Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:01:12.143Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:01:12.143Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:01:12.198Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:01:12.141Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:01:12.199Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:01:12.199Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:01:12.199Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:01:13.396Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:01:13.396Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:01:13.397Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:01:13.397Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T22:01:13.397Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:01:13.492Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:01:14.039Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:02:25.946Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:02:25.988Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:02:25.988Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:02:25.989Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:02:25.989Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:02:25.989Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:02:25.994Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:02:25.995Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:02:25.996Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:02:25.996Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:02:25.997Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:02:25.997Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:02:25.997Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:02:25.997Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:02:26.040Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:02:26.040Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:02:26.040Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:02:26.041Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:02:27.367Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:02:27.367Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:02:27.367Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:02:27.367Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:02:27.367Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:02:27.471Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:02:28.051Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:06:16.856Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:06:16.923Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:06:16.923Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:06:16.924Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:06:16.924Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:06:16.924Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:06:16.941Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:06:16.942Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:06:16.943Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:06:16.945Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:06:16.946Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:06:16.946Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:06:16.946Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:06:16.947Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:06:17.003Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:06:17.003Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:06:17.003Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:06:17.003Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:06:18.166Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:06:18.166Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:06:18.166Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:06:18.167Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T22:06:18.166Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:06:18.272Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:06:18.808Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:19:06.724Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:19:06.802Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:19:06.803Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:19:06.803Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:19:06.803Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:19:06.804Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:19:06.812Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:19:06.813Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:19:06.814Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:19:06.816Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:19:06.817Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:19:06.818Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:19:06.818Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:19:06.819Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:19:06.875Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:19:06.876Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:19:06.876Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:19:06.876Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:19:08.208Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:19:08.208Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:19:08.208Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:19:08.208Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:19:08.208Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:19:08.308Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:19:08.848Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:28:45.478Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:28:45.578Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:28:45.584Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:28:45.586Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:28:45.587Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:28:45.587Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:28:45.612Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:28:45.612Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:28:45.614Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:28:45.618Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:28:45.619Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:28:45.620Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:28:45.620Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:28:45.621Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:28:45.710Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:28:45.710Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:28:45.710Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:28:45.711Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:28:47.160Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:28:47.160Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:28:47.160Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:28:47.160Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T22:28:47.160Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:28:47.268Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:28:47.776Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:36:30.328Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:36:30.374Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:36:30.375Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:36:30.375Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:36:30.375Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:36:30.376Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:36:30.381Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:36:30.382Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:36:30.382Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:36:30.383Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:36:30.383Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:36:30.384Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:36:30.384Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:36:30.384Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:36:30.434Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:36:30.435Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:36:30.435Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:36:30.434Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:36:31.589Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:36:31.589Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:36:31.589Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T22:36:31.589Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:36:31.589Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:36:31.682Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:36:32.227Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:41:08.565Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:41:08.609Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:41:08.609Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:41:08.609Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:41:08.609Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:41:08.610Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:41:08.614Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:41:08.615Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:41:08.616Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:41:08.617Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:41:08.617Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:41:08.617Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:41:08.618Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:41:08.618Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:41:08.671Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:41:08.671Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:41:08.671Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:41:08.671Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:41:09.893Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:41:09.893Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:41:09.893Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:41:09.893Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-08T22:41:09.893Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:41:09.988Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:41:10.553Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:42:42.814Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:42:42.876Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:42:42.887Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:42:42.887Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:42:42.914Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:42:42.975Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:42:43.011Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:42:43.061Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:42:43.062Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:42:43.063Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:42:43.075Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:42:43.076Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:42:43.077Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:42:43.077Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:42:43.138Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:42:43.138Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:42:43.138Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:42:43.139Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:42:44.289Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:42:44.289Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:42:44.289Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:42:44.289Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:42:44.289Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:42:44.405Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:42:44.943Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T22:47:34.917Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-08T22:47:34.961Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-08T22:47:34.961Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-08T22:47:34.961Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-08T22:47:34.962Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-08T22:47:34.962Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-08T22:47:34.967Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-08T22:47:34.968Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-08T22:47:34.968Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-08T22:47:34.969Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-08T22:47:34.970Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-08T22:47:34.970Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-08T22:47:34.971Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-08T22:47:34.971Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-08T22:47:35.029Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-08T22:47:35.029Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-08T22:47:35.029Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-08T22:47:35.029Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-08T22:47:36.264Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-08T22:47:36.265Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-08T22:47:36.265Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-08T22:47:36.265Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-08T22:47:36.265Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-08T22:47:36.368Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-08T22:47:36.974Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-08T23:00:00.442Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-08T23:00:00.449Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-08T23:00:00.512Z","level":"INFO","message":"⏰ تشغيل جدولة تنظيف الإشعارات..."}
{"timestamp":"2025-08-08T23:00:00.716Z","level":"INFO","message":"✅ تم الانتهاء من جدولة تنظيف الإشعارات"}
{"timestamp":"2025-08-08T23:00:01.184Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-08T23:00:01.184Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-08T23:00:03.570Z","level":"INFO","message":"Email sent successfully","messageId":"<b1355f5a-5c40-405f-c62f-b05704fce1f1@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-08T23:00:03.570Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T14:11:45.787Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-09T14:11:45.829Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-09T14:11:45.830Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-09T14:11:45.830Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-09T14:11:45.830Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-09T14:11:45.835Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-09T14:11:45.836Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-09T14:11:45.837Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-09T14:11:45.837Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-09T14:11:45.838Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-09T14:11:45.838Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-09T14:11:45.830Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-09T14:11:45.839Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-09T14:11:45.941Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-09T14:11:45.942Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-09T14:11:45.839Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-09T14:11:45.942Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-09T14:11:45.942Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-09T14:11:47.157Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-09T14:11:47.157Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-09T14:11:47.157Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-09T14:11:47.157Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-09T14:11:47.157Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-09T14:11:47.248Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-09T14:11:47.776Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-09T15:00:00.722Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-09T15:00:00.740Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-09T15:00:01.624Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-09T15:00:01.624Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-09T15:00:04.125Z","level":"INFO","message":"Email sent successfully","messageId":"<42c2ab6a-471f-80df-5108-70d3fdb24801@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-09T15:00:04.126Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T15:12:00.123Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-09T15:12:10.684Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T15:14:10.033Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-09T15:14:20.503Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T17:28:54.280Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T17:28:54.283Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T17:29:06.994Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-09T17:29:08.707Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T18:00:00.896Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-09T18:00:00.899Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-09T18:00:01.671Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-09T18:00:01.671Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-09T18:00:03.675Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T18:00:03.675Z","level":"INFO","message":"Email sent successfully","messageId":"<713c6cbb-a4e6-8ccb-282d-19c0eb0e9937@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-09T18:39:40.876Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-09T18:39:41.434Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-09T19:00:01.059Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-09T19:00:01.067Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-09T19:00:01.819Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-09T19:00:01.820Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-09T19:00:03.881Z","level":"INFO","message":"Email sent successfully","messageId":"<cd3313ea-e723-26ab-dc96-d933d3da8593@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-09T19:00:03.881Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T20:00:00.939Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-09T20:00:00.942Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-09T20:00:01.747Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-09T20:00:01.747Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-09T20:00:03.475Z","level":"INFO","message":"Email sent successfully","messageId":"<8bd7e9e4-7343-8f1f-116f-04ad4ea2dc57@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-09T20:00:03.475Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T21:00:00.403Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-09T21:00:00.406Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-09T21:00:01.160Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-09T21:00:01.160Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-09T21:00:03.680Z","level":"INFO","message":"Email sent successfully","messageId":"<86eae649-b1fc-54a9-435b-956a63b45f10@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-09T21:00:03.680Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-09T21:05:23.583Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-09T23:00:00.489Z","level":"INFO","message":"⏰ تشغيل جدولة تنظيف الإشعارات..."}
{"timestamp":"2025-08-09T23:00:00.492Z","level":"INFO","message":"💾 Database backup scheduled task triggered"}
{"timestamp":"2025-08-10T00:00:00.459Z","level":"INFO","message":"🧹 Expired notifications cleanup scheduled task triggered"}
{"timestamp":"2025-08-10T11:07:54.167Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T11:09:17.633Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T11:09:17.670Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T11:09:17.670Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T11:09:17.670Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T11:09:17.670Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T11:09:17.670Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T11:09:17.675Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T11:09:17.676Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T11:09:17.676Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T11:09:17.677Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T11:09:17.677Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T11:09:17.678Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T11:09:17.678Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T11:09:17.679Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T11:09:17.713Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T11:09:17.713Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T11:09:17.713Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T11:09:17.713Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T11:09:26.856Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T11:09:26.856Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T11:09:26.856Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-10T11:09:26.856Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-10T11:09:26.856Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T11:09:27.777Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T11:09:28.957Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T12:00:01.178Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T12:00:01.190Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T12:00:02.805Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T12:00:02.805Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T12:00:05.856Z","level":"INFO","message":"Email sent successfully","messageId":"<8f1a3d34-2f11-1b5f-be82-bf7c8555bcb7@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T12:00:05.856Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-10T12:00:18.913Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T12:00:18.957Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T12:00:18.958Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T12:00:18.958Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T12:00:18.958Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T12:00:18.958Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T12:00:18.967Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T12:00:18.968Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T12:00:18.969Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T12:00:18.970Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T12:00:18.970Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T12:00:18.970Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T12:00:18.971Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T12:00:18.971Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T12:00:19.019Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T12:00:19.020Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T12:00:19.020Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T12:00:19.020Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T12:00:20.242Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T12:00:20.242Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T12:00:20.242Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-10T12:00:20.242Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-10T12:00:20.242Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T12:00:20.339Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T12:00:20.828Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T12:01:01.937Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T12:01:01.981Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T12:01:01.981Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T12:01:01.982Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T12:01:01.982Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T12:01:01.982Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T12:01:01.989Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T12:01:01.989Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T12:01:01.990Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T12:01:01.990Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T12:01:01.991Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T12:01:01.991Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T12:01:01.991Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T12:01:01.992Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T12:01:02.034Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T12:01:02.034Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T12:01:02.034Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T12:01:02.034Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T12:01:03.154Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T12:01:03.154Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T12:01:03.155Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-10T12:01:03.154Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-10T12:01:03.155Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T12:01:03.248Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T12:01:03.793Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T12:01:04.929Z","level":"INFO","message":"SIGINT received, shutting down gracefully"}
{"timestamp":"2025-08-10T12:04:13.613Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T12:04:13.654Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T12:04:13.655Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T12:04:13.655Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T12:04:13.655Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T12:04:13.656Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T12:04:13.661Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T12:04:13.661Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T12:04:13.662Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T12:04:13.662Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T12:04:13.663Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T12:04:13.663Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T12:04:13.663Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T12:04:13.664Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T12:04:13.701Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T12:04:13.701Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T12:04:13.701Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T12:04:13.701Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T12:04:14.927Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T12:04:14.928Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-10T12:04:14.928Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T12:04:14.928Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-10T12:04:14.928Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T12:04:15.028Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T12:04:15.527Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T13:00:00.849Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T13:00:00.857Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T13:00:01.605Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T13:00:01.605Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T13:00:03.280Z","level":"INFO","message":"Email sent successfully","messageId":"<a3dfa912-7ff4-acc7-b62c-8a15877b326f@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T13:00:03.280Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-10T14:00:00.875Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T14:00:00.880Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T14:00:02.229Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T14:00:02.230Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T14:00:03.975Z","level":"INFO","message":"Email sent successfully","messageId":"<1684c679-61e3-9ac7-6d41-a4637a41307f@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T14:00:03.975Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-10T15:00:00.710Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T15:00:00.713Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T15:00:01.444Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T15:00:01.444Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T15:00:03.087Z","level":"INFO","message":"Email sent successfully","messageId":"<22ca1a93-9cf9-c3da-89ba-67f71e55c83b@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T15:00:03.087Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":1,"adminCount":1}
{"timestamp":"2025-08-10T16:00:01.066Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T16:00:01.073Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T16:00:01.797Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T16:00:01.797Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T16:00:03.524Z","level":"INFO","message":"Email sent successfully","messageId":"<d091487d-b2ad-5f34-ef8f-687a7f565a46@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T16:00:03.525Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-10T17:00:00.722Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-10T17:00:00.729Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-10T17:00:01.511Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-10T17:00:01.511Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"تنبيه: انخفاض المخزون - نظام Bomba","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-10T17:00:04.304Z","level":"INFO","message":"Email sent successfully","messageId":"<117bca8e-3703-c6c5-4d1c-d59ad679ff5d@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-10T17:00:04.305Z","level":"INFO","message":"Low stock alert sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","itemCount":2,"adminCount":1}
{"timestamp":"2025-08-10T17:04:24.430Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-10T17:04:24.432Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T17:06:24.437Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-10T17:06:25.011Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T17:09:42.766Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-10T17:10:03.297Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T17:10:38.298Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-10T17:10:43.929Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T17:11:31.177Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-10T17:12:34.630Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-10T17:17:44.835Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T17:17:44.883Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T17:17:44.884Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T17:17:44.884Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T17:17:44.884Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T17:17:44.884Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T17:17:44.889Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T17:17:44.890Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T17:17:44.890Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T17:17:44.891Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T17:17:44.891Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T17:17:44.891Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T17:17:44.892Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T17:17:44.891Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T17:17:44.927Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T17:17:44.927Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T17:17:44.927Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T17:17:44.927Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T17:17:47.691Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T17:17:47.691Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-10T17:17:47.691Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-10T17:17:47.691Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-10T17:17:47.691Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T17:17:48.657Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T19:33:09.508Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T19:33:09.804Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T19:33:09.805Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T19:33:09.807Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T19:33:09.813Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T19:33:09.820Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T19:33:09.840Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T19:33:09.843Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T19:33:09.845Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T19:33:09.846Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T19:33:09.846Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T19:33:09.847Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T19:33:09.847Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T19:33:09.848Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T19:33:09.935Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T19:33:09.936Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T19:33:09.936Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T19:33:09.936Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T19:33:11.346Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T19:33:11.346Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T19:33:11.346Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-10T19:33:11.346Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-10T19:33:11.346Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T19:33:11.584Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T19:33:12.230Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T19:36:02.313Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T19:36:02.382Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T19:36:02.382Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T19:36:02.382Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T19:36:02.382Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T19:36:02.398Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T19:36:02.400Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T19:36:02.399Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T19:36:02.382Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T19:36:02.401Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T19:36:02.402Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T19:36:02.401Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T19:36:02.402Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T19:36:02.402Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T19:36:02.437Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T19:36:02.437Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T19:36:02.437Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T19:36:02.437Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T19:36:04.844Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T19:36:04.844Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T19:36:04.844Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-10T19:36:04.844Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-10T19:36:04.844Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T19:36:05.073Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T19:36:05.770Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-10T19:47:03.654Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-10T19:47:03.704Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-10T19:47:03.704Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-10T19:47:03.704Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-10T19:47:03.704Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-10T19:47:03.705Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-10T19:47:03.710Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-10T19:47:03.710Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-10T19:47:03.711Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-10T19:47:03.711Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-10T19:47:03.712Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-10T19:47:03.712Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-10T19:47:03.712Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-10T19:47:03.713Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-10T19:47:03.758Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-10T19:47:03.758Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-10T19:47:03.758Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-10T19:47:03.758Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-10T19:47:05.110Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-10T19:47:05.111Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-10T19:47:05.111Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-10T19:47:05.111Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-10T19:47:05.111Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-10T19:47:05.345Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-10T19:47:05.989Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:33:44.280Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:33:44.350Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:33:44.350Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:33:44.350Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:33:44.350Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:33:44.351Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:33:44.356Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:33:44.357Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:33:44.357Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:33:44.358Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:33:44.358Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:33:44.358Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:33:44.359Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:33:44.359Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:33:44.403Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:33:44.403Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:33:44.403Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:33:44.403Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:33:46.975Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:33:46.975Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:33:46.975Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:33:46.975Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T00:33:46.975Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:33:47.280Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:33:47.961Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:39:17.586Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:39:17.651Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:39:17.651Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:39:17.651Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:39:17.651Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:39:17.651Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:39:17.656Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:39:17.656Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:39:17.657Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:39:17.657Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:39:17.658Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:39:17.658Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:39:17.658Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:39:17.659Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:39:17.697Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:39:17.697Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:39:17.697Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:39:17.697Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:39:19.117Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:39:19.117Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:39:19.117Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:39:19.117Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T00:39:19.117Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:39:19.354Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:39:20.002Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:41:21.772Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:41:21.836Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:41:21.836Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:41:21.836Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:41:21.837Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:41:21.837Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:41:21.854Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:41:21.853Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:41:21.855Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:41:21.856Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:41:21.857Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:41:21.856Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:41:21.857Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:41:21.857Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:41:21.896Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:41:21.896Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:41:21.896Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:41:21.896Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:41:23.306Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:41:23.306Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:41:23.306Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:41:23.306Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T00:41:23.306Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:41:23.532Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:41:24.212Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:41:56.740Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:41:56.813Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:41:56.814Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:41:56.814Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:41:56.814Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:41:56.823Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:41:56.832Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:41:56.824Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:41:56.814Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:41:56.833Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:41:56.834Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:41:56.834Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:41:56.835Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:41:56.835Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:41:56.876Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:41:56.876Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:41:56.876Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:41:56.876Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:41:58.497Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:41:58.497Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:41:58.497Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:41:58.497Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T00:41:58.497Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:41:58.727Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:41:59.462Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:42:15.658Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:42:15.715Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:42:15.715Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:42:15.715Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:42:15.716Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:42:15.715Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:42:15.721Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:42:15.722Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:42:15.730Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:42:15.731Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:42:15.732Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:42:15.733Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:42:15.733Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:42:15.767Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:42:15.732Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:42:15.768Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:42:15.768Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:42:15.768Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:42:17.327Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:42:17.327Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:42:17.327Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:42:17.327Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T00:42:17.327Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:42:17.560Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:42:18.335Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:43:27.190Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:43:27.238Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:43:27.238Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:43:27.238Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:43:27.239Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:43:27.239Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:43:27.244Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:43:27.244Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:43:27.245Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:43:27.245Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:43:27.246Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:43:27.246Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:43:27.246Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:43:27.246Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:43:27.281Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:43:27.281Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:43:27.282Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:43:27.282Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:43:28.800Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:43:28.800Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:43:28.800Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T00:43:28.800Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:43:28.800Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:43:29.027Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:43:29.712Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:43:39.433Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:43:39.503Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:43:39.504Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:43:39.504Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:43:39.504Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:43:39.504Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:43:39.512Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:43:39.513Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:43:39.514Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:43:39.514Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:43:39.515Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:43:39.515Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:43:39.516Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:43:39.516Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:43:39.563Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:43:39.563Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:43:39.564Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:43:39.564Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:43:40.999Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:43:40.999Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T00:43:40.999Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:43:40.999Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:43:40.999Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:43:41.242Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T00:43:41.927Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T00:44:06.931Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T00:44:06.987Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T00:44:06.987Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T00:44:06.987Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T00:44:06.987Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T00:44:06.988Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T00:44:06.995Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T00:44:06.994Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T00:44:07.003Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T00:44:07.005Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T00:44:07.006Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T00:44:07.006Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T00:44:07.007Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T00:44:07.007Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T00:44:07.052Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T00:44:07.052Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T00:44:07.052Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T00:44:07.052Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T00:44:08.490Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T00:44:08.490Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T00:44:08.490Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T00:44:08.490Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T00:44:08.490Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T00:44:09.429Z","level":"INFO","message":"✅ Database ping successful"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T00:44:10.045Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:01:11.196Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:01:11.294Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:01:11.294Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:01:11.294Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:01:11.294Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:01:11.295Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:01:11.303Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:01:11.305Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:01:11.308Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:01:11.309Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:01:11.310Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:01:11.310Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:01:11.311Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:01:11.378Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:01:11.312Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:01:11.378Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:01:11.378Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:01:11.378Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:01:12.762Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:01:12.762Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:01:12.763Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:01:12.763Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:01:12.763Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:01:13.021Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:01:13.679Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:01:34.432Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:01:34.513Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:01:34.513Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:01:34.513Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:01:34.513Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:01:34.513Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:01:34.519Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:01:34.521Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:01:34.521Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:01:34.522Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:01:34.523Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:01:34.524Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:01:34.524Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:01:34.524Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:01:34.584Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:01:34.585Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:01:34.585Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:01:34.585Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:01:36.069Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:01:36.069Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:01:36.069Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:01:36.069Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:01:36.069Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:01:36.293Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:01:37.002Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:02:56.404Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:02:56.466Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:02:56.466Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:02:56.466Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:02:56.467Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:02:56.467Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:02:56.472Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:02:56.473Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:02:56.473Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:02:56.483Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:02:56.484Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:02:56.484Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:02:56.485Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:02:56.485Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:02:56.528Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:02:56.528Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:02:56.528Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:02:56.528Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:02:57.938Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:02:57.938Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:02:57.939Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:02:57.938Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:02:57.939Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:02:58.173Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:02:58.851Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:03:26.510Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:03:26.565Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:03:26.566Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:03:26.566Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:03:26.566Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:03:26.566Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:03:26.571Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:03:26.572Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:03:26.573Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:03:26.574Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:03:26.575Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:03:26.575Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:03:26.575Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:03:26.575Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:03:26.611Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:03:26.611Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:03:26.611Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:03:26.611Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:03:28.069Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:03:28.069Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:03:28.069Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:03:28.069Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:03:28.069Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:03:28.294Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:03:28.986Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:03:41.192Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:03:41.283Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:03:41.283Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:03:41.283Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:03:41.283Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:03:41.284Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:03:41.294Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:03:41.296Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:03:41.297Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:03:41.298Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:03:41.298Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:03:41.299Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:03:41.299Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:03:41.300Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:03:41.359Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:03:41.359Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:03:41.359Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:03:41.359Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:03:42.770Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:03:42.770Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:03:42.770Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:03:42.771Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:03:42.771Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:03:42.994Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:03:43.703Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:04:10.588Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:04:10.674Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:04:10.674Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:04:10.674Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:04:10.674Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:04:10.674Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:04:10.684Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:04:10.685Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:04:10.685Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:04:10.686Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:04:10.687Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:04:10.688Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:04:10.687Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:04:10.688Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:04:10.759Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:04:10.759Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:04:10.759Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:04:10.759Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:04:12.156Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:04:12.156Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:04:12.156Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:04:12.156Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:04:12.156Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:04:12.389Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:04:13.039Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:04:23.180Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:04:23.239Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:04:23.240Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:04:23.240Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:04:23.240Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:04:23.240Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:04:23.245Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:04:23.246Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:04:23.246Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:04:23.254Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:04:23.255Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:04:23.255Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:04:23.256Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:04:23.256Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:04:23.292Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:04:23.292Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:04:23.292Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:04:23.292Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:04:24.787Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:04:24.787Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:04:24.787Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:04:24.787Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:04:24.787Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:04:25.024Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:04:25.659Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:08:15.693Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:08:15.761Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:08:15.761Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:08:15.761Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:08:15.762Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:08:15.762Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:08:15.767Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:08:15.767Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:08:15.768Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:08:15.768Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:08:15.769Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:08:15.770Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:08:15.770Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:08:15.770Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:08:15.812Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:08:15.812Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:08:15.812Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:08:15.812Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:08:17.164Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:08:17.164Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:08:17.164Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:08:17.164Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:08:17.164Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:08:17.391Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:08:18.072Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:08:55.816Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:08:55.872Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:08:55.872Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:08:55.872Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:08:55.872Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:08:55.872Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:08:55.877Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:08:55.878Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:08:55.878Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:08:55.879Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:08:55.879Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:08:55.880Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:08:55.880Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:08:55.925Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:08:55.880Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:08:55.925Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:08:55.925Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:08:55.925Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:08:57.423Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:08:57.423Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:08:57.423Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:08:57.423Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:08:57.423Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:08:57.654Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:08:58.321Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:09:45.756Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:09:45.834Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:09:45.834Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:09:45.834Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:09:45.834Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:09:45.835Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:09:45.843Z","level":"INFO","message":"✅ Low stock check scheduled: every hour at minute 0"}
{"timestamp":"2025-08-11T01:09:45.843Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:09:45.844Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:09:45.845Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:09:45.846Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:09:45.846Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:09:45.847Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:09:45.847Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:09:45.891Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:09:45.891Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:09:45.891Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:09:45.891Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:09:47.260Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:09:47.260Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:09:47.261Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-11T01:09:47.260Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:09:47.260Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:09:47.484Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:09:48.143Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T01:11:18.034Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-11T01:11:18.088Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-11T01:11:18.088Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-11T01:11:18.088Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-11T01:11:18.088Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-11T01:11:18.089Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-11T01:11:18.097Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-11T01:11:18.098Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-11T01:11:18.099Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-11T01:11:18.100Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-11T01:11:18.100Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-11T01:11:18.101Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-11T01:11:18.101Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-11T01:11:18.104Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-11T01:11:18.142Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-11T01:11:18.142Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-11T01:11:18.143Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-11T01:11:18.143Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-11T01:11:19.515Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-11T01:11:19.515Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-11T01:11:19.515Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-11T01:11:19.515Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-11T01:11:19.515Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-11T01:11:19.736Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-11T01:11:20.408Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-11T02:00:00.951Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"١١‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"١١‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-11T02:00:00.952Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-11T02:00:00.954Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-11T02:00:00.952Z","local":"١١‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١١‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-10T02:00:00.000Z","local":"١٠‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٠‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-11T02:00:00.000Z","local":"١١‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١١‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-11T02:00:01.188Z","level":"INFO","message":"Found 1 organizations for daily report"}
{"timestamp":"2025-08-11T02:00:01.188Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-10T02:00:00.000Z","endOfReport":"2025-08-11T02:00:00.000Z","organizationId":"6898dccfe8171e7b87986462"}
{"timestamp":"2025-08-11T02:00:01.643Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-11T02:00:01.866Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6898dccfe8171e7b87986462","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-11T02:00:01.866Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-11T02:00:01.867Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ١٠‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-11T02:00:01.867Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-11T02:00:01.874Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-11T02:00:01.868Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-11T02:00:02.697Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-11T02:00:02.697Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ١٠‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-11T02:00:04.658Z","level":"INFO","message":"Email sent successfully","messageId":"<992b231a-ede2-3ee3-a7bb-b3490ff63a5e@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-11T02:00:04.658Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-11T02:00:04.659Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6898dccfe8171e7b87986462","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-11T02:00:04.659Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-11T02:00:04.659Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-11T03:00:00.449Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-11T03:00:00.449Z"}
{"timestamp":"2025-08-11T03:00:00.703Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-11T03:00:00.703Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-11T03:00:00.449Z","endTime":"2025-08-11T03:00:00.703Z","duration":"254ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-12T01:03:23.480Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T01:03:35.698Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T01:22:37.617Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T01:22:38.596Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T01:29:29.632Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T01:29:30.632Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T01:41:13.342Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T01:41:21.721Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T01:44:43.111Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-12T01:44:43.205Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-12T01:44:43.206Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-12T01:44:43.206Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-12T01:44:43.206Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-12T01:44:43.206Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-12T01:44:43.211Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-12T01:44:43.212Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-12T01:44:43.212Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-12T01:44:43.213Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-12T01:44:43.213Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-12T01:44:43.214Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-12T01:44:43.214Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-12T01:44:43.282Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-12T01:44:43.283Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-12T01:44:43.283Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-12T01:44:43.214Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-12T01:44:43.282Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-12T01:44:44.788Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-12T01:44:44.788Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-12T01:44:44.788Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-12T01:44:44.788Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-12T01:44:44.788Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-12T01:44:45.036Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-12T01:44:45.719Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-12T02:00:00.670Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"١٢‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"١٢‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-12T02:00:00.670Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-12T02:00:00.672Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-12T02:00:00.670Z","local":"١٢‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٢‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-11T02:00:00.000Z","local":"١١‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١١‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-12T02:00:00.000Z","local":"١٢‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٢‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-12T02:00:00.892Z","level":"INFO","message":"Found 1 organizations for daily report"}
{"timestamp":"2025-08-12T02:00:00.893Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-11T02:00:00.000Z","endOfReport":"2025-08-12T02:00:00.000Z","organizationId":"6898dccfe8171e7b87986462"}
{"timestamp":"2025-08-12T02:00:01.356Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-12T02:00:01.578Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6898dccfe8171e7b87986462","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-12T02:00:01.579Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-12T02:00:01.580Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-12T02:00:01.579Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ١١‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-12T02:00:01.579Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-12T02:00:01.586Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-12T02:00:02.396Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-12T02:00:02.396Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ١١‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-12T02:00:04.142Z","level":"INFO","message":"Email sent successfully","messageId":"<ec25caf6-6d9f-ed81-440a-924e671581a2@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-12T02:00:04.142Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-12T02:00:04.142Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-12T02:00:04.142Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-12T02:00:04.142Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6898dccfe8171e7b87986462","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-12T02:32:21.544Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-12T02:32:21.642Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-12T02:32:21.642Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-12T02:32:21.642Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-12T02:32:21.642Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-12T02:32:21.643Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-12T02:32:21.650Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-12T02:32:21.651Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-12T02:32:21.652Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-12T02:32:21.653Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-12T02:32:21.654Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-12T02:32:21.653Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-12T02:32:21.654Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-12T02:32:21.655Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-12T02:32:21.696Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-12T02:32:21.696Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-12T02:32:21.696Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-12T02:32:21.696Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-12T02:32:23.184Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-12T02:32:23.184Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-12T02:32:23.184Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-12T02:32:23.184Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-12T02:32:23.184Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-12T02:32:23.440Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-12T02:32:24.792Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-12T03:00:00.006Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-12T03:00:00.006Z"}
{"timestamp":"2025-08-12T03:00:00.230Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-12T03:00:00.231Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-12T03:00:00.006Z","endTime":"2025-08-12T03:00:00.231Z","duration":"225ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-12T07:07:47.984Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T07:07:52.597Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T12:01:16.527Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-12T12:01:27.196Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-12T12:06:36.175Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-12T12:06:36.225Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-12T12:06:36.226Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-12T12:06:36.226Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-12T12:06:36.226Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-12T12:06:36.231Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-12T12:06:36.231Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-12T12:06:36.232Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-12T12:06:36.226Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-12T12:06:36.232Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-12T12:06:36.233Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-12T12:06:36.233Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-12T12:06:36.233Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-12T12:06:36.268Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-12T12:06:36.233Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-12T12:06:36.268Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-12T12:06:36.269Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-12T12:06:36.269Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-12T12:06:37.959Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-12T12:06:37.959Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-12T12:06:37.959Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-12T12:06:37.959Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-12T12:06:37.959Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-12T12:06:38.209Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-12T12:06:38.892Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-12T15:00:00.721Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-12T15:00:00.721Z"}
{"timestamp":"2025-08-12T15:00:01.007Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-12T15:00:01.008Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-12T15:00:00.721Z","endTime":"2025-08-12T15:00:01.007Z","duration":"286ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-12T21:00:00.524Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-12T21:00:00.523Z"}
{"timestamp":"2025-08-12T21:00:02.075Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-12T21:00:02.076Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-12T21:00:00.523Z","endTime":"2025-08-12T21:00:02.075Z","duration":"1552ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-12T23:00:00.623Z","level":"INFO","message":"⏰ تشغيل جدولة تنظيف الإشعارات..."}
{"timestamp":"2025-08-12T23:00:01.155Z","level":"INFO","message":"✅ تم الانتهاء من جدولة تنظيف الإشعارات"}
{"timestamp":"2025-08-13T00:00:00.925Z","level":"INFO","message":"🧹 Expired notifications cleanup scheduled task triggered"}
{"timestamp":"2025-08-13T02:00:00.219Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"١٣‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"١٣‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-13T02:00:00.225Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-13T02:00:00.233Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-13T02:00:00.225Z","local":"١٣‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٣‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-12T02:00:00.000Z","local":"١٢‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٢‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-13T02:00:00.000Z","local":"١٣‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٣‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-13T02:00:00.732Z","level":"INFO","message":"Found 1 organizations for daily report"}
{"timestamp":"2025-08-13T02:00:00.732Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-12T02:00:00.000Z","endOfReport":"2025-08-13T02:00:00.000Z","organizationId":"6898dccfe8171e7b87986462"}
{"timestamp":"2025-08-13T02:00:01.253Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-13T02:00:01.507Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ١٢‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-13T02:00:01.504Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-13T02:00:01.503Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6898dccfe8171e7b87986462","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-13T02:00:01.509Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-13T02:00:01.507Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-13T02:00:01.540Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-13T02:00:02.601Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-13T02:00:02.602Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ١٢‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-13T02:00:04.622Z","level":"INFO","message":"Email sent successfully","messageId":"<e0c07c62-f91c-23bb-e087-37b88a327a1d@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-13T02:00:04.622Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-13T02:00:04.623Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-13T02:00:04.623Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-13T02:00:04.623Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6898dccfe8171e7b87986462","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-13T02:34:33.094Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T02:34:43.883Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T03:00:00.338Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-13T03:00:00.338Z"}
{"timestamp":"2025-08-13T03:00:00.590Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-13T03:00:00.591Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-13T03:00:00.338Z","endTime":"2025-08-13T03:00:00.591Z","duration":"253ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-13T03:22:24.099Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T03:22:24.577Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T03:45:55.603Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T03:48:29.735Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T03:52:30.814Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T03:52:51.781Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T03:55:02.811Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T03:55:35.389Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T06:52:32.260Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T06:52:42.843Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T13:21:55.894Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T13:23:42.132Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-13T13:23:42.413Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-13T13:23:42.413Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-13T13:23:42.413Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-13T13:23:42.414Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-13T13:23:42.415Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-13T13:23:42.455Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-13T13:23:42.458Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-13T13:23:42.462Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-13T13:23:42.464Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-13T13:23:42.466Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-13T13:23:42.467Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-13T13:23:42.468Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-13T13:23:42.469Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-13T13:23:42.611Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-13T13:23:42.611Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-13T13:23:42.612Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-13T13:23:42.612Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-13T13:23:44.667Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-13T13:23:44.667Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-13T13:23:44.667Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-13T13:23:44.667Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-13T13:23:44.667Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-13T13:23:45.032Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-13T13:23:45.653Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-13T14:19:35.893Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T14:19:36.440Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T15:00:00.078Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-13T15:00:00.078Z"}
{"timestamp":"2025-08-13T15:00:00.303Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-13T15:00:00.303Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-13T15:00:00.078Z","endTime":"2025-08-13T15:00:00.303Z","duration":"225ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-13T15:09:26.331Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T15:09:26.843Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T16:20:09.957Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-13T16:20:10.049Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-13T16:20:10.050Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-13T16:20:10.050Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-13T16:20:10.050Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-13T16:20:10.056Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-13T16:20:10.057Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-13T16:20:10.050Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-13T16:20:10.057Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-13T16:20:10.058Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-13T16:20:10.059Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-13T16:20:10.059Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-13T16:20:10.060Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-13T16:20:10.060Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-13T16:20:10.108Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-13T16:20:10.109Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-13T16:20:10.109Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-13T16:20:10.109Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-13T16:20:11.624Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-13T16:20:11.624Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-13T16:20:11.624Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-13T16:20:11.624Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-13T16:20:11.624Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-13T16:20:11.858Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-13T16:20:12.557Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-13T16:34:16.361Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T16:34:18.070Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-13T17:06:37.723Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-13T17:06:41.253Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-14T02:44:59.072Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-14T02:45:10.196Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-14T03:00:00.386Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-14T03:00:00.386Z"}
{"timestamp":"2025-08-14T03:00:00.624Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-14T03:00:00.624Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-14T03:00:00.386Z","endTime":"2025-08-14T03:00:00.624Z","duration":"238ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-14T14:34:05.570Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-14T14:34:05.626Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-14T14:34:05.626Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-14T14:34:05.626Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-14T14:34:05.626Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-14T14:34:05.633Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-14T14:34:05.633Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-14T14:34:05.634Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-14T14:34:05.626Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-14T14:34:05.634Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-14T14:34:05.635Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-14T14:34:05.635Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-14T14:34:05.635Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-14T14:34:05.671Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-14T14:34:05.671Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-14T14:34:05.635Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-14T14:34:05.671Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-14T14:34:05.671Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-14T14:34:07.264Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-14T14:34:07.264Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-14T14:34:07.264Z","level":"INFO","message":"🔌 Port: 30733"}
{"timestamp":"2025-08-14T14:34:07.264Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-14T14:34:07.264Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-14T14:34:07.496Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-14T14:34:08.217Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-14T15:00:00.145Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-14T15:00:00.145Z"}
{"timestamp":"2025-08-14T15:00:00.379Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-14T15:00:00.379Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-14T15:00:00.145Z","endTime":"2025-08-14T15:00:00.379Z","duration":"234ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-14T16:56:54.455Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-14T21:00:00.361Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-14T21:00:00.361Z"}
{"timestamp":"2025-08-14T23:00:00.101Z","level":"INFO","message":"⏰ تشغيل جدولة تنظيف الإشعارات..."}
{"timestamp":"2025-08-15T00:00:00.793Z","level":"INFO","message":"🧹 Expired notifications cleanup scheduled task triggered"}
{"timestamp":"2025-08-15T00:28:56.035Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-15T01:11:54.589Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-15T01:11:54.641Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-15T01:11:54.641Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-15T01:11:54.641Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-15T01:11:54.647Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-15T01:11:54.648Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-15T01:11:54.648Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-15T01:11:54.648Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-15T01:11:54.649Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-15T01:11:54.649Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-15T01:11:54.650Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-15T01:11:54.650Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-15T01:11:54.696Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-15T01:11:54.641Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-15T01:11:54.696Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-15T01:11:54.696Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-15T01:11:54.696Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-15T01:11:54.641Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-15T01:11:56.359Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-15T01:11:56.359Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-15T01:11:56.359Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-15T01:11:56.360Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-15T01:11:56.360Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-15T01:11:56.621Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-15T01:11:57.303Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-15T02:00:00.784Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-15T02:00:00.783Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"١٥‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"١٥‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-15T02:00:00.788Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-15T02:00:00.784Z","local":"١٥‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٥‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-14T02:00:00.000Z","local":"١٤‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٤‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-15T02:00:00.000Z","local":"١٥‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"١٥‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-15T02:00:01.060Z","level":"INFO","message":"Found 1 organizations for daily report"}
{"timestamp":"2025-08-15T02:00:01.061Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-14T02:00:00.000Z","endOfReport":"2025-08-15T02:00:00.000Z","organizationId":"6898dccfe8171e7b87986462"}
{"timestamp":"2025-08-15T02:00:01.549Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-15T02:00:01.791Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6898dccfe8171e7b87986462","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-15T02:00:01.791Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-15T02:00:01.793Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-15T02:00:01.793Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-15T02:00:01.809Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-15T02:00:01.792Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ١٤‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-15T02:00:02.883Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-15T02:00:02.884Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ١٤‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-15T02:00:05.391Z","level":"INFO","message":"Email sent successfully","messageId":"<1b56ec76-c5a4-e98b-0c81-83c86cd0b480@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-15T02:00:05.391Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-15T02:00:05.391Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-15T02:00:05.391Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6898dccfe8171e7b87986462","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-15T02:00:05.392Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-16T13:58:44.987Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-16T13:59:00.101Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-16T15:29:00.296Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:29:00.366Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:29:00.366Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:29:00.366Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:29:00.372Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:29:00.366Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:29:00.374Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:29:00.373Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:29:00.375Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:29:00.376Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:29:00.376Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:29:00.377Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:29:00.366Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:29:00.494Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:29:00.494Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:29:00.494Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:29:00.494Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:29:00.376Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:29:02.284Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:29:02.284Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:29:02.285Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:29:02.284Z","level":"INFO","message":"🌐 Host: sjc1.clusters.zeabur.com"}
{"timestamp":"2025-08-16T15:29:02.285Z","level":"INFO","message":"🔌 Port: 30733"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:29:02.527Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:29:03.283Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:33:01.119Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:33:01.159Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:33:01.159Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:33:01.159Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:33:01.159Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:33:01.165Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:33:01.160Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:33:01.165Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:33:01.166Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:33:01.166Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:33:01.167Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:33:01.167Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:33:01.167Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:33:01.201Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:33:01.168Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:33:01.201Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:33:01.201Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:33:01.201Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:33:02.631Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:33:02.631Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:33:02.631Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:33:02.631Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:33:02.631Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:33:02.726Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:33:03.313Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:35:06.876Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:35:06.948Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:35:06.949Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:35:06.949Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:35:06.949Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:35:06.949Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:35:06.955Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:35:06.957Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:35:06.957Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:35:06.958Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:35:06.959Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:35:06.959Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:35:06.960Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:35:06.962Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:35:07.003Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:35:07.003Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:35:07.003Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:35:07.003Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:35:08.383Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:35:08.383Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:35:08.384Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:35:08.384Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:35:08.384Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:35:08.502Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:35:09.012Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:36:17.499Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:36:17.568Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:36:17.568Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:36:17.568Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:36:17.568Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:36:17.569Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:36:17.581Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:36:17.582Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:36:17.583Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:36:17.586Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:36:17.588Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:36:17.588Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:36:17.589Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:36:17.590Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:36:17.691Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:36:17.691Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:36:17.691Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:36:17.691Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:36:19.354Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:36:19.354Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:36:19.354Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:36:19.355Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:36:19.354Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:36:19.466Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:36:20.001Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:37:58.428Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:37:58.516Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:37:58.517Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:37:58.517Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:37:58.517Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:37:58.517Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:37:58.526Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:37:58.527Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:37:58.528Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:37:58.530Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:37:58.531Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:37:58.532Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:37:58.534Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:37:58.535Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:37:58.593Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:37:58.593Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:37:58.593Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:37:58.593Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:37:59.982Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:37:59.982Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:37:59.982Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:37:59.982Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:37:59.982Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:38:00.078Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:38:00.639Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:39:43.447Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:39:43.573Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:39:43.573Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:39:43.573Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:39:43.574Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:39:43.586Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:39:43.575Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:39:43.587Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:39:43.588Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:39:43.589Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:39:43.590Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:39:43.591Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:39:43.597Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:39:43.598Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:39:43.779Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:39:43.779Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:39:43.779Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:39:43.779Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:39:45.793Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:39:45.794Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:39:45.794Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:39:45.794Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:39:45.794Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:39:45.893Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:39:46.692Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:43:12.467Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:43:12.513Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:43:12.513Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:43:12.513Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:43:12.513Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:43:12.514Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:43:12.519Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:43:12.520Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:43:12.521Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:43:12.522Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:43:12.522Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:43:12.523Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:43:12.523Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:43:12.523Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:43:12.565Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:43:12.565Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:43:12.565Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:43:12.565Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:43:13.915Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:43:13.915Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:43:13.915Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:43:13.915Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:43:13.915Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:43:14.013Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:43:14.533Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:43:54.797Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:43:54.841Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:43:54.841Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:43:54.842Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:43:54.842Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:43:54.842Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:43:54.851Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:43:54.852Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:43:54.853Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:43:54.853Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:43:54.857Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:43:54.857Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:43:54.857Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:43:54.858Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:43:54.895Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:43:54.895Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:43:54.895Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:43:54.895Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:43:55.980Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:43:55.980Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:43:55.980Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:43:55.980Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:43:55.981Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:43:56.071Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:43:56.661Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:47:55.687Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:47:55.728Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:47:55.728Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:47:55.729Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:47:55.729Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:47:55.729Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:47:55.739Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:47:55.741Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:47:55.742Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:47:55.743Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:47:55.744Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:47:55.745Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:47:55.745Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:47:55.746Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:47:55.799Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:47:55.799Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:47:55.799Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:47:55.799Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:47:57.689Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:47:57.689Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:47:57.689Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:47:57.689Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:47:57.689Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:47:57.786Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:47:58.311Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:48:16.829Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:48:16.877Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:48:16.877Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:48:16.877Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:48:16.877Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:48:16.878Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:48:16.888Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:48:16.892Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:48:16.895Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:48:16.898Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:48:16.900Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:48:16.901Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:48:16.901Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:48:16.901Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:48:16.946Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:48:16.946Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:48:16.946Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:48:16.946Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:48:18.215Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:48:18.215Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:48:18.216Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:48:18.216Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:48:18.215Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:48:18.310Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:48:18.854Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:48:54.594Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:48:54.649Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:48:54.649Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:48:54.649Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:48:54.650Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:48:54.650Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:48:54.660Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:48:54.661Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:48:54.662Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:48:54.662Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:48:54.663Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:48:54.664Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:48:54.665Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:48:54.666Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:48:54.720Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:48:54.721Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:48:54.721Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:48:54.721Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:48:55.814Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:48:55.814Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:48:55.814Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:48:55.814Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:48:55.814Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:48:55.910Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:48:56.447Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:54:47.403Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:54:47.472Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:54:47.473Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:54:47.473Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:54:47.473Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:54:47.475Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:54:47.483Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:54:47.484Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:54:47.486Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:54:47.495Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:54:47.496Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:54:47.497Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:54:47.498Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:54:47.564Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:54:47.498Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:54:47.564Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:54:47.564Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:54:47.564Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:54:48.952Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:54:48.952Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:54:48.952Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:54:48.952Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:54:48.952Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:54:49.048Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:54:49.542Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:55:00.459Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:55:00.526Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:55:00.527Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:55:00.527Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:55:00.527Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:55:00.529Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:55:00.537Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:55:00.538Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:55:00.549Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:55:00.550Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:55:00.551Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:55:00.551Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:55:00.552Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:55:00.552Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:55:00.608Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:55:00.608Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:55:00.608Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:55:00.608Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:55:02.079Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:55:02.079Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:55:02.079Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:55:02.079Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:55:02.080Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:55:02.198Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:55:03.106Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:55:09.501Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:55:09.575Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:55:09.576Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:55:09.576Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:55:09.583Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:55:09.584Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:55:09.585Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:55:09.576Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:55:09.575Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:55:09.585Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:55:09.586Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:55:09.587Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:55:09.587Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:55:09.588Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:55:09.645Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:55:09.645Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:55:09.645Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:55:09.645Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:55:10.779Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:55:10.779Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:55:10.779Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:55:10.779Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:55:10.779Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:55:10.887Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:55:11.551Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:57:07.325Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:57:07.373Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:57:07.373Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:57:07.373Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:57:07.374Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:57:07.374Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:57:07.382Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:57:07.383Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:57:07.384Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:57:07.385Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:57:07.386Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:57:07.386Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:57:07.387Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:57:07.387Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:57:07.433Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:57:07.433Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:57:07.433Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:57:07.433Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:57:08.767Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:57:08.767Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:57:08.767Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T15:57:08.767Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:57:08.767Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:57:08.862Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:57:09.400Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:57:21.482Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:57:21.531Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:57:21.531Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:57:21.531Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:57:21.532Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:57:21.532Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:57:21.540Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:57:21.541Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:57:21.542Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:57:21.543Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:57:21.544Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:57:21.544Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:57:21.544Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:57:21.544Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:57:21.588Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:57:21.589Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:57:21.589Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:57:21.589Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:57:22.689Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:57:22.689Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:57:22.689Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:57:22.689Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:57:22.689Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:57:22.782Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:57:23.351Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T15:57:36.402Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T15:57:36.468Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T15:57:36.468Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T15:57:36.469Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T15:57:36.469Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T15:57:36.469Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T15:57:36.478Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T15:57:36.478Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T15:57:36.479Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T15:57:36.480Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T15:57:36.480Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T15:57:36.481Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T15:57:36.482Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T15:57:36.482Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T15:57:36.553Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T15:57:36.553Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T15:57:36.553Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T15:57:36.553Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T15:57:37.704Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T15:57:37.704Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T15:57:37.704Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T15:57:37.704Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T15:57:37.704Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T15:57:37.794Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T15:57:38.307Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:06:08.257Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-16T16:09:17.609Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:09:17.665Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:09:17.665Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:09:17.666Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:09:17.666Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:09:17.666Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:09:17.672Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:09:17.673Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:09:17.673Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:09:17.674Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:09:17.674Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:09:17.674Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:09:17.675Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:09:17.714Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:09:17.675Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:09:17.714Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:09:17.714Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:09:17.714Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:09:19.194Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:09:19.194Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:09:19.194Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T16:09:19.194Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:09:19.194Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:09:19.300Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:09:19.801Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:16:03.211Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:16:03.262Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:16:03.262Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:16:03.262Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:16:03.263Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:16:03.263Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:16:03.270Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:16:03.271Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:16:03.271Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:16:03.272Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:16:03.272Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:16:03.273Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:16:03.273Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:16:03.273Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:16:03.318Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:16:03.318Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:16:03.318Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:16:03.318Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:16:04.588Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:16:04.588Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:16:04.588Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T16:16:04.588Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T16:16:04.588Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:16:04.690Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:16:05.277Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:16:23.422Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:16:23.498Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:16:23.498Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:16:23.499Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:16:23.499Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:16:23.499Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:16:23.506Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:16:23.507Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:16:23.507Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:16:23.508Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:16:23.509Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:16:23.510Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:16:23.511Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:16:23.512Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:16:23.575Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:16:23.575Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:16:23.576Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:16:23.576Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:16:24.752Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:16:24.752Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:16:24.752Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:16:24.752Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T16:16:24.752Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:16:24.854Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:16:25.362Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:17:17.002Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:17:17.063Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:17:17.063Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:17:17.064Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:17:17.064Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:17:17.064Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:17:17.070Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:17:17.071Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:17:17.072Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:17:17.073Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:17:17.073Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:17:17.073Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:17:17.074Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:17:17.074Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:17:17.122Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:17:17.122Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:17:17.122Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:17:17.122Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:17:18.396Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:17:18.396Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:17:18.396Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T16:17:18.396Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:17:18.396Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:17:18.492Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:17:19.030Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:19:20.936Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:19:20.977Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:19:20.985Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:19:20.985Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:19:20.986Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:19:20.986Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:19:20.992Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:19:20.993Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:19:20.993Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:19:20.994Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:19:20.995Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:19:20.994Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:19:20.995Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:19:21.030Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:19:20.995Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:19:21.030Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:19:21.030Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:19:21.030Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:19:22.533Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:19:22.533Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:19:22.534Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-16T16:19:22.533Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:19:22.533Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:19:22.631Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:19:23.143Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:21:32.800Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-16T16:21:57.104Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:21:57.180Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:21:57.181Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:21:57.182Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:21:57.182Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:21:57.182Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:21:57.190Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:21:57.191Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:21:57.191Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:21:57.192Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:21:57.193Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:21:57.194Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:21:57.194Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:21:57.195Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:21:57.259Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:21:57.259Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:21:57.259Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:21:57.259Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:21:58.891Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:21:58.890Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:21:58.891Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:21:58.891Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T16:21:58.891Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:21:58.990Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:21:59.568Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:22:10.973Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T16:22:11.018Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T16:22:11.018Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T16:22:11.018Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T16:22:11.018Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T16:22:11.019Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T16:22:11.024Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T16:22:11.025Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T16:22:11.025Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T16:22:11.026Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T16:22:11.026Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T16:22:11.027Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T16:22:11.027Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T16:22:11.027Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T16:22:11.067Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T16:22:11.067Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T16:22:11.067Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T16:22:11.067Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T16:22:12.192Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T16:22:12.192Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T16:22:12.192Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T16:22:12.192Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T16:22:12.192Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T16:22:12.294Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T16:22:12.863Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T16:32:30.246Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-16T16:32:30.295Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-16T17:47:46.337Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T17:47:46.374Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T17:47:46.374Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T17:47:46.374Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T17:47:46.379Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T17:47:46.379Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T17:47:46.374Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T17:47:46.380Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T17:47:46.382Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T17:47:46.382Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T17:47:46.382Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T17:47:46.383Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T17:47:46.381Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T17:47:46.416Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T17:47:46.417Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T17:47:46.374Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T17:47:46.416Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T17:47:46.417Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T17:47:47.753Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T17:47:47.753Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T17:47:47.753Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T17:47:47.753Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T17:47:47.753Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T17:47:47.847Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T17:47:48.406Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T17:49:18.849Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T17:49:18.892Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T17:49:18.892Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T17:49:18.892Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T17:49:18.893Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T17:49:18.893Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T17:49:18.899Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T17:49:18.899Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T17:49:18.900Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T17:49:18.900Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T17:49:18.901Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T17:49:18.901Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T17:49:18.901Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T17:49:18.901Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T17:49:18.958Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T17:49:18.958Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T17:49:18.958Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T17:49:18.958Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T17:49:20.127Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T17:49:20.127Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T17:49:20.128Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T17:49:20.127Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T17:49:20.128Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T17:49:20.224Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T17:49:20.775Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T19:44:14.081Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-16T19:44:14.122Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-16T19:44:14.122Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-16T19:44:14.122Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-16T19:44:14.123Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-16T19:44:14.122Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-16T19:44:14.130Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-16T19:44:14.128Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-16T19:44:14.129Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-16T19:44:14.132Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-16T19:44:14.132Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-16T19:44:14.131Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-16T19:44:14.132Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-16T19:44:14.170Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-16T19:44:14.131Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-16T19:44:14.170Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-16T19:44:14.170Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-16T19:44:14.170Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-16T19:44:15.380Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-16T19:44:15.380Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-16T19:44:15.380Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-16T19:44:15.380Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-16T19:44:15.380Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-16T19:44:15.482Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-16T19:44:16.024Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-16T20:45:48.743Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-16T20:45:48.773Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-16T21:00:00.982Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-16T21:00:00.982Z"}
{"timestamp":"2025-08-16T21:00:01.068Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-16T21:00:01.068Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-16T21:00:00.982Z","endTime":"2025-08-16T21:00:01.068Z","duration":"86ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-17T00:46:07.619Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-17T00:46:07.686Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-17T01:24:10.985Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-17T01:24:11.029Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-17T01:24:11.029Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-17T01:24:11.029Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-17T01:24:11.029Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-17T01:24:11.029Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-17T01:24:11.035Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-17T01:24:11.036Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-17T01:24:11.037Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-17T01:24:11.038Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-17T01:24:11.039Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-17T01:24:11.039Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-17T01:24:11.040Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-17T01:24:11.040Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-17T01:24:11.087Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-17T01:24:11.087Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-17T01:24:11.088Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-17T01:24:11.088Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-17T01:24:12.336Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-17T01:24:12.337Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-17T01:24:12.337Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-17T01:24:12.337Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-17T01:24:12.337Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-17T01:24:12.430Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-17T01:24:12.920Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-17T01:32:56.799Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-17T01:32:56.846Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-17T01:32:56.847Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-17T01:32:56.847Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-17T01:32:56.847Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-17T01:32:56.853Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-17T01:32:56.848Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-17T01:32:56.854Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-17T01:32:56.855Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-17T01:32:56.856Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-17T01:32:56.856Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-17T01:32:56.857Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-17T01:32:56.857Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-17T01:32:56.857Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-17T01:32:56.900Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-17T01:32:56.900Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-17T01:32:56.900Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-17T01:32:56.900Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-17T01:32:58.151Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-17T01:32:58.151Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-17T01:32:58.151Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-17T01:32:58.151Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-17T01:32:58.151Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-17T01:32:58.246Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-17T01:32:58.745Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-17T01:33:09.718Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-17T01:33:09.797Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-17T01:33:09.797Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-17T01:33:09.797Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-17T01:33:09.798Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-17T01:33:09.810Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-17T01:33:09.812Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-17T01:33:09.798Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-17T01:33:09.813Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-17T01:33:09.817Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-17T01:33:09.818Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-17T01:33:09.818Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-17T01:33:09.819Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-17T01:33:09.821Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-17T01:33:09.917Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-17T01:33:09.917Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-17T01:33:09.917Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-17T01:33:09.917Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-17T01:33:11.416Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-17T01:33:11.416Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-17T01:33:11.416Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-17T01:33:11.416Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-17T01:33:11.416Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-17T01:33:11.518Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-17T01:33:12.090Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-27T07:29:36.707Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-27T07:29:36.741Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-27T07:29:36.741Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-27T07:29:36.743Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-27T07:29:36.758Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-27T07:29:36.747Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-27T07:29:36.759Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-27T07:29:36.744Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-27T07:29:36.760Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-27T07:29:36.759Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-27T07:29:36.764Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-27T07:29:36.764Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-27T07:29:36.765Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-27T07:29:36.818Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-27T07:29:36.818Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-27T07:29:36.818Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-27T07:29:36.764Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-27T07:29:36.818Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-27T07:29:38.091Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-27T07:29:38.091Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-27T07:29:38.091Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-27T07:29:38.091Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-27T07:29:38.091Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-27T07:29:38.186Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-27T07:29:38.727Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-27T08:04:53.620Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-27T08:04:54.015Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-27T09:00:00.905Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-27T09:00:00.905Z"}
{"timestamp":"2025-08-27T09:00:00.988Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-27T09:00:00.988Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-27T09:00:00.905Z","endTime":"2025-08-27T09:00:00.988Z","duration":"83ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-27T15:00:00.165Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-27T15:00:00.651Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-27T15:00:00.690Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-27T15:00:00.690Z"}
{"timestamp":"2025-08-27T15:00:01.396Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-27T15:00:01.396Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-27T15:00:00.690Z","endTime":"2025-08-27T15:00:01.396Z","duration":"706ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-28T00:12:49.092Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T00:12:49.093Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T00:13:01.594Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-28T00:13:33.356Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T00:18:47.186Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-28T00:18:47.743Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T00:41:22.633Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-28T00:41:23.065Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T01:12:19.797Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-28T01:12:20.143Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T02:00:00.314Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"٢٨‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"٢٨‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-28T02:00:00.315Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-28T02:00:00.317Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-28T02:00:00.315Z","local":"٢٨‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٨‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-27T02:00:00.000Z","local":"٢٧‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٧‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-28T02:00:00.000Z","local":"٢٨‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٨‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-28T02:00:00.413Z","level":"INFO","message":"Found 8 organizations for daily report"}
{"timestamp":"2025-08-28T02:00:00.413Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"6884ca0edc00ea79cf8f9631"}
{"timestamp":"2025-08-28T02:00:00.592Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:00.680Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6884ca0edc00ea79cf8f9631","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-28T02:00:00.683Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-28T02:00:00.683Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-28T02:00:00.683Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:00.684Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-28T02:00:00.691Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-28T02:00:01.465Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-28T02:00:01.465Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:03.522Z","level":"INFO","message":"Email sent successfully","messageId":"<7b90050d-8d3c-9222-e97f-16a36b60fc85@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:03.522Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:03.522Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-28T02:00:03.522Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-28T02:00:03.701Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:03.788Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-28T02:00:03.522Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-28T02:00:03.788Z","level":"INFO","message":"Fetching data for organization: mom","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"68854d3cdeaed88db8316d71"}
{"timestamp":"2025-08-28T02:00:03.788Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68854b72f9e9cb00b72f1cc6","adminEmails":[]}
{"timestamp":"2025-08-28T02:00:03.964Z","level":"INFO","message":"Data for organization mom:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Organization \"mom\" has 1 admin emails:","organizationId":"68854d3cdeaed88db8316d71","adminEmails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mo123258mo@gmail.com"],"reportData":{"organizationName":"mom","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Sending daily report to email","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - mom - ٢٧‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-28T02:00:04.054Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-28T02:00:04.929Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-28T02:00:04.930Z","level":"INFO","message":"Sending email","to":"mo123258mo@gmail.com","subject":"📊 التقرير اليومي - mom - ٢٧‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:06.944Z","level":"INFO","message":"Email sent successfully","messageId":"<b1311583-8400-9c49-eaf1-29ef5fe0b24f@gmail.com>","to":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-28T02:00:06.945Z","level":"INFO","message":"Daily report sent successfully","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-28T02:00:06.945Z","level":"INFO","message":"Daily report sent for organization: mom","organizationId":"68854d3cdeaed88db8316d71","adminCount":1,"emails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-28T02:00:06.945Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"mom"}
{"timestamp":"2025-08-28T02:00:06.945Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"68854e33deaed88db8316f19"}
{"timestamp":"2025-08-28T02:00:07.137Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:07.223Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mostafa.taal3t@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-28T02:00:07.223Z","level":"INFO","message":"Sending daily report to email","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-28T02:00:07.223Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"68854e33deaed88db8316f19","adminEmails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-28T02:00:07.224Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-28T02:00:07.223Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-28T02:00:07.224Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-28T02:00:08.129Z","level":"INFO","message":"Sending email","to":"mostafa.taal3t@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:08.129Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-28T02:00:10.377Z","level":"INFO","message":"Daily report sent successfully","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-28T02:00:10.377Z","level":"INFO","message":"Email sent successfully","messageId":"<01f6ad91-4065-5b0f-97a3-72e002623948@gmail.com>","to":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-28T02:00:10.377Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-28T02:00:10.378Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-28T02:00:10.378Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"68854e33deaed88db8316f19","adminCount":1,"emails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-28T02:00:10.557Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:10.654Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68861c0e166211623b3bd1e6","adminEmails":[]}
{"timestamp":"2025-08-28T02:00:10.654Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-28T02:00:10.654Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-28T02:00:10.833Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:10.916Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68862603166211623b3bd1f6","adminEmails":[]}
{"timestamp":"2025-08-28T02:00:10.916Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-28T02:00:10.916Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-28T02:00:11.097Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:11.184Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"688638d7166211623b3bd1fe","adminEmails":[]}
{"timestamp":"2025-08-28T02:00:11.184Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-27T02:00:00.000Z","endOfReport":"2025-08-28T02:00:00.000Z","organizationId":"688639ee166211623b3bd206"}
{"timestamp":"2025-08-28T02:00:11.184Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-28T02:00:11.359Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-28T02:00:11.444Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mr.robot192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-28T02:00:11.444Z","level":"INFO","message":"Sending daily report to email","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:11.444Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"688639ee166211623b3bd206","adminEmails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-28T02:00:11.444Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-28T02:00:11.444Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-28T02:00:11.445Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-28T02:00:12.289Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-28T02:00:12.289Z","level":"INFO","message":"Sending email","to":"mr.robot192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٧‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:13.850Z","level":"INFO","message":"Email sent successfully","messageId":"<cd1a3ad0-b6d8-6470-e87f-2d55d82443cc@gmail.com>","to":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:13.850Z","level":"INFO","message":"Daily report sent successfully","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-28T02:00:13.851Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-28T02:00:13.850Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-28T02:00:13.850Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"688639ee166211623b3bd206","adminCount":1,"emails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-28T03:00:00.446Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-28T03:00:00.446Z"}
{"timestamp":"2025-08-28T03:00:00.545Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-28T03:00:00.546Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-28T03:00:00.446Z","endTime":"2025-08-28T03:00:00.545Z","duration":"99ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-28T15:15:05.197Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T15:15:05.198Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T16:02:08.541Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-28T16:02:08.630Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-28T21:00:00.576Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-28T21:00:00.576Z"}
{"timestamp":"2025-08-28T21:00:00.664Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-28T21:00:00.664Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-28T21:00:00.576Z","endTime":"2025-08-28T21:00:00.664Z","duration":"88ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-28T23:00:00.697Z","level":"INFO","message":"⏰ تشغيل جدولة تنظيف الإشعارات..."}
{"timestamp":"2025-08-28T23:00:00.921Z","level":"INFO","message":"✅ تم الانتهاء من جدولة تنظيف الإشعارات"}
{"timestamp":"2025-08-29T00:00:00.952Z","level":"INFO","message":"🧹 Expired notifications cleanup scheduled task triggered"}
{"timestamp":"2025-08-29T00:08:52.535Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T00:08:52.965Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T00:50:18.507Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T00:50:18.949Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T01:28:31.120Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T01:28:31.147Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T01:28:31.147Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T01:28:31.147Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T01:28:31.147Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T01:28:31.147Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T01:28:31.151Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T01:28:31.152Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T01:28:31.152Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T01:28:31.153Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T01:28:31.153Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T01:28:31.153Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T01:28:31.153Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T01:28:31.153Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T01:28:31.181Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T01:28:31.181Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T01:28:31.181Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T01:28:31.181Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T01:28:32.473Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T01:28:32.474Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T01:28:32.474Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T01:28:32.474Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T01:28:32.474Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T01:28:32.567Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T01:28:33.061Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T01:55:27.839Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T01:55:27.885Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T01:55:27.885Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T01:55:27.886Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T01:55:27.887Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T01:55:27.894Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T01:55:27.894Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T01:55:27.886Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T01:55:27.895Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T01:55:27.896Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T01:55:27.896Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T01:55:27.897Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T01:55:27.897Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T01:55:27.897Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T01:55:27.959Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T01:55:27.959Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T01:55:27.959Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T01:55:27.959Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T01:55:29.196Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T01:55:29.196Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T01:55:29.196Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T01:55:29.196Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T01:55:29.196Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T01:55:29.311Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T01:55:29.857Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T01:56:36.664Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T01:56:36.695Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T01:56:36.695Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T01:56:36.695Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T01:56:36.695Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T01:56:36.695Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T01:56:36.698Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T01:56:36.699Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T01:56:36.699Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T01:56:36.700Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T01:56:36.700Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T01:56:36.700Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T01:56:36.701Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T01:56:36.701Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T01:56:36.725Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T01:56:36.725Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T01:56:36.725Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T01:56:36.725Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T01:56:37.888Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T01:56:37.888Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T01:56:37.888Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T01:56:37.889Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T01:56:37.888Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T01:56:37.979Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T01:56:38.473Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T01:58:38.996Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T01:58:39.042Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T01:58:39.042Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T01:58:39.043Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T01:58:39.043Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T01:58:39.043Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T01:58:39.048Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T01:58:39.049Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T01:58:39.049Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T01:58:39.050Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T01:58:39.050Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T01:58:39.050Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T01:58:39.051Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T01:58:39.051Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T01:58:39.091Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T01:58:39.091Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T01:58:39.091Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T01:58:39.091Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T01:58:40.270Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T01:58:40.270Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T01:58:40.270Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T01:58:40.270Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T01:58:40.270Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T01:58:40.362Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T01:58:40.927Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T02:00:00.864Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"٢٩‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"٢٩‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-29T02:00:00.864Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-29T02:00:00.867Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-29T02:00:00.864Z","local":"٢٩‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٩‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-28T02:00:00.000Z","local":"٢٨‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٨‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-29T02:00:00.000Z","local":"٢٩‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٩‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-29T02:00:01.267Z","level":"INFO","message":"Found 8 organizations for daily report"}
{"timestamp":"2025-08-29T02:00:01.268Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"6884ca0edc00ea79cf8f9631"}
{"timestamp":"2025-08-29T02:00:01.877Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:02.044Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6884ca0edc00ea79cf8f9631","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-29T02:00:02.044Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-29T02:00:02.047Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-29T02:00:02.046Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-29T02:00:02.046Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:02.071Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-29T02:00:03.761Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-29T02:00:03.761Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:07.599Z","level":"INFO","message":"Email sent successfully","messageId":"<1342e39e-7462-d3a5-171c-d840240334d0@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:07.599Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:07.599Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-29T02:00:07.599Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-29T02:00:07.599Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-29T02:00:08.192Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:08.368Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-29T02:00:08.368Z","level":"INFO","message":"Fetching data for organization: mom","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"68854d3cdeaed88db8316d71"}
{"timestamp":"2025-08-29T02:00:08.368Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68854b72f9e9cb00b72f1cc6","adminEmails":[]}
{"timestamp":"2025-08-29T02:00:09.120Z","level":"INFO","message":"Data for organization mom:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:09.213Z","level":"INFO","message":"Organization \"mom\" has 1 admin emails:","organizationId":"68854d3cdeaed88db8316d71","adminEmails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-29T02:00:09.214Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mo123258mo@gmail.com"],"reportData":{"organizationName":"mom","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-29T02:00:09.214Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-29T02:00:09.214Z","level":"INFO","message":"Sending daily report to email","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-29T02:00:09.214Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - mom - ٢٨‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-29T02:00:09.215Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-29T02:00:09.986Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-29T02:00:09.986Z","level":"INFO","message":"Sending email","to":"mo123258mo@gmail.com","subject":"📊 التقرير اليومي - mom - ٢٨‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:12.968Z","level":"INFO","message":"Email sent successfully","messageId":"<c1805f65-0d4b-a48a-8c29-1e6d47d4f0d8@gmail.com>","to":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-29T02:00:12.969Z","level":"INFO","message":"Daily report sent successfully","email":"mo123258mo@gmail.com"}
{"timestamp":"2025-08-29T02:00:12.969Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"68854e33deaed88db8316f19"}
{"timestamp":"2025-08-29T02:00:12.969Z","level":"INFO","message":"Daily report sent for organization: mom","organizationId":"68854d3cdeaed88db8316d71","adminCount":1,"emails":["mo123258mo@gmail.com"]}
{"timestamp":"2025-08-29T02:00:12.969Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"mom"}
{"timestamp":"2025-08-29T02:00:13.155Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:13.241Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mostafa.taal3t@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-29T02:00:13.241Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-29T02:00:13.241Z","level":"INFO","message":"Sending daily report to email","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-29T02:00:13.241Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-29T02:00:13.240Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"68854e33deaed88db8316f19","adminEmails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-29T02:00:13.241Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-29T02:00:13.826Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-29T02:00:13.827Z","level":"INFO","message":"Sending email","to":"mostafa.taal3t@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:16.143Z","level":"INFO","message":"Email sent successfully","messageId":"<ff22439a-4f74-554f-1858-ec7c87140514@gmail.com>","to":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-29T02:00:16.143Z","level":"INFO","message":"Daily report sent successfully","email":"mostafa.taal3t@gmail.com"}
{"timestamp":"2025-08-29T02:00:16.143Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-29T02:00:16.144Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-29T02:00:16.144Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"68854e33deaed88db8316f19","adminCount":1,"emails":["mostafa.taal3t@gmail.com"]}
{"timestamp":"2025-08-29T02:00:16.320Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:16.422Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68861c0e166211623b3bd1e6","adminEmails":[]}
{"timestamp":"2025-08-29T02:00:16.423Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-29T02:00:16.422Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-29T02:00:16.614Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:16.718Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68862603166211623b3bd1f6","adminEmails":[]}
{"timestamp":"2025-08-29T02:00:16.719Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-29T02:00:16.718Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-29T02:00:16.998Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:17.107Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"688638d7166211623b3bd1fe","adminEmails":[]}
{"timestamp":"2025-08-29T02:00:17.108Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-28T02:00:00.000Z","endOfReport":"2025-08-29T02:00:00.000Z","organizationId":"688639ee166211623b3bd206"}
{"timestamp":"2025-08-29T02:00:17.108Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-29T02:00:17.292Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-29T02:00:17.380Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"688639ee166211623b3bd206","adminEmails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-29T02:00:17.380Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["mr.robot192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-29T02:00:17.380Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-29T02:00:17.382Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-29T02:00:17.381Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-29T02:00:17.381Z","level":"INFO","message":"Sending daily report to email","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:18.049Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-29T02:00:18.050Z","level":"INFO","message":"Sending email","to":"mr.robot192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٨‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:20.930Z","level":"INFO","message":"Email sent successfully","messageId":"<13a34527-23f7-50f3-84ee-3dbf14452404@gmail.com>","to":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:20.930Z","level":"INFO","message":"Daily report sent successfully","email":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-29T02:00:20.931Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-29T02:00:20.930Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-29T02:00:20.931Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"688639ee166211623b3bd206","adminCount":1,"emails":["mr.robot192002@gmail.com"]}
{"timestamp":"2025-08-29T02:04:09.138Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T02:04:09.189Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T02:04:09.189Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T02:04:09.189Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T02:04:09.189Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T02:04:09.189Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T02:04:09.201Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T02:04:09.202Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T02:04:09.202Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T02:04:09.203Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T02:04:09.204Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T02:04:09.204Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T02:04:09.205Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T02:04:09.205Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T02:04:09.250Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T02:04:09.250Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T02:04:09.250Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T02:04:09.250Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T02:04:10.544Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T02:04:10.544Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T02:04:10.544Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T02:04:10.544Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T02:04:10.544Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T02:04:10.637Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T02:04:11.254Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T02:05:15.934Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T02:05:15.969Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T02:05:15.970Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T02:05:15.970Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T02:05:15.970Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T02:05:15.970Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T02:05:15.974Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T02:05:15.974Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T02:05:15.975Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T02:05:15.975Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T02:05:15.976Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T02:05:15.976Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T02:05:15.976Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T02:05:15.976Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T02:05:16.002Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T02:05:16.003Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T02:05:16.003Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T02:05:16.003Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T02:05:18.355Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T02:05:18.355Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T02:05:18.355Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T02:05:18.355Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T02:05:18.355Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T02:05:18.733Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T02:05:20.540Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T02:05:54.588Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T02:05:54.618Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T02:05:54.618Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T02:05:54.618Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T02:05:54.618Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T02:05:54.619Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T02:05:54.622Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T02:05:54.622Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T02:05:54.622Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T02:05:54.623Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T02:05:54.623Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T02:05:54.623Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T02:05:54.623Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T02:05:54.623Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T02:05:54.654Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T02:05:54.654Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T02:05:54.654Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T02:05:54.654Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T02:05:55.667Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T02:05:55.667Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T02:05:55.667Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T02:05:55.667Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T02:05:55.667Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T02:05:55.765Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T02:05:56.290Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T02:20:51.017Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T02:20:51.433Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T02:21:18.458Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T02:21:18.485Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T02:21:18.485Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T02:21:18.486Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T02:21:18.486Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T02:21:18.486Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T02:21:18.489Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T02:21:18.489Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T02:21:18.490Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T02:21:18.490Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T02:21:18.490Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T02:21:18.490Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T02:21:18.491Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T02:21:18.491Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T02:21:18.520Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T02:21:18.520Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T02:21:18.520Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T02:21:18.520Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T02:21:19.526Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T02:21:19.526Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-08-29T02:21:19.526Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T02:21:19.526Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T02:21:19.526Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T02:21:19.616Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T02:21:20.208Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T02:21:38.513Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-08-29T02:21:38.549Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-08-29T02:21:38.549Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-08-29T02:21:38.549Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-08-29T02:21:38.549Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-08-29T02:21:38.550Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-08-29T02:21:38.553Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-08-29T02:21:38.553Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-08-29T02:21:38.553Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-08-29T02:21:38.554Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-08-29T02:21:38.554Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-08-29T02:21:38.554Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-08-29T02:21:38.554Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-08-29T02:21:38.555Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-08-29T02:21:38.587Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-08-29T02:21:38.588Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-08-29T02:21:38.588Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-08-29T02:21:38.588Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-08-29T02:21:39.728Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-08-29T02:21:39.728Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-08-29T02:21:39.727Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-08-29T02:21:39.728Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-08-29T02:21:39.728Z","level":"INFO","message":"📊 Database: test"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-08-29T02:21:39.821Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-08-29T02:21:40.381Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-08-29T03:00:00.162Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-29T03:00:00.162Z"}
{"timestamp":"2025-08-29T03:00:00.249Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-29T03:00:00.249Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-29T03:00:00.162Z","endTime":"2025-08-29T03:00:00.249Z","duration":"87ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-29T04:01:55.628Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T04:01:56.099Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T04:23:48.211Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T04:23:48.738Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T23:20:42.593Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T23:20:43.295Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-29T23:22:33.711Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-29T23:22:34.903Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-30T00:00:00.325Z","level":"INFO","message":"🧹 Expired notifications cleanup scheduled task triggered"}
{"timestamp":"2025-08-30T02:00:00.246Z","level":"INFO","message":"🕐 Daily report scheduled task triggered at 5:00 AM (Egypt time)","currentTime":"٣٠‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","egyptTime":"٣٠‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص"}
{"timestamp":"2025-08-30T02:00:00.249Z","level":"INFO","message":"Starting daily report generation..."}
{"timestamp":"2025-08-30T02:00:00.258Z","level":"INFO","message":"📅 Daily report period:","currentTime":{"iso":"2025-08-30T02:00:00.249Z","local":"٣٠‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٣٠‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportStart":{"iso":"2025-08-29T02:00:00.000Z","local":"٢٩‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٢٩‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"reportEnd":{"iso":"2025-08-30T02:00:00.000Z","local":"٣٠‏/٨‏/٢٠٢٥، ٥:٠٠:٠٠ ص","date":"٣٠‏/٨‏/٢٠٢٥","time":"٥:٠٠:٠٠ ص"},"timezone":"Africa/Cairo (GMT+2)"}
{"timestamp":"2025-08-30T02:00:00.370Z","level":"INFO","message":"Found 8 organizations for daily report"}
{"timestamp":"2025-08-30T02:00:00.582Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":1,"totalRevenue":0,"totalCosts":100,"topProducts":0}
{"timestamp":"2025-08-30T02:00:00.371Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"6884ca0edc00ea79cf8f9631"}
{"timestamp":"2025-08-30T02:00:00.678Z","level":"INFO","message":"Starting daily report email sending","adminEmailsCount":1,"adminEmails":["tafa192002@gmail.com"],"reportData":{"organizationName":"Rio","totalRevenue":0,"totalBills":0,"totalOrders":0,"totalSessions":0}}
{"timestamp":"2025-08-30T02:00:00.679Z","level":"INFO","message":"Sending daily report to email","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-30T02:00:00.675Z","level":"INFO","message":"Organization \"Rio\" has 1 admin emails:","organizationId":"6884ca0edc00ea79cf8f9631","adminEmails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-30T02:00:00.679Z","level":"INFO","message":"Daily report template generated","subject":"📊 التقرير اليومي - Rio - ٢٩‏/٨‏/٢٠٢٥","adminEmailsCount":1}
{"timestamp":"2025-08-30T02:00:00.680Z","level":"INFO","message":"Email configuration found, creating transporter","EMAIL_HOST":"smtp.gmail.com","EMAIL_USER":"mr.robot192002@gmail.com","EMAIL_PORT":"587"}
{"timestamp":"2025-08-30T02:00:00.701Z","level":"INFO","message":"Trying email config 1","config":{"host":"smtp.gmail.com","port":"587","secure":false}}
{"timestamp":"2025-08-30T02:00:01.525Z","level":"INFO","message":"Sending email","to":"tafa192002@gmail.com","subject":"📊 التقرير اليومي - Rio - ٢٩‏/٨‏/٢٠٢٥","from":"mr.robot192002@gmail.com"}
{"timestamp":"2025-08-30T02:00:01.525Z","level":"INFO","message":"Email transporter verified successfully"}
{"timestamp":"2025-08-30T02:00:05.109Z","level":"INFO","message":"Email sent successfully","messageId":"<414ae855-29e0-fd08-4177-f16057d94c79@gmail.com>","to":"tafa192002@gmail.com"}
{"timestamp":"2025-08-30T02:00:05.110Z","level":"INFO","message":"Daily report sending completed","totalEmails":1,"successCount":1,"failureCount":0,"organizationName":"Rio"}
{"timestamp":"2025-08-30T02:00:05.110Z","level":"INFO","message":"Daily report sent for organization: Rio","organizationId":"6884ca0edc00ea79cf8f9631","adminCount":1,"emails":["tafa192002@gmail.com"]}
{"timestamp":"2025-08-30T02:00:05.110Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-30T02:00:05.109Z","level":"INFO","message":"Daily report sent successfully","email":"tafa192002@gmail.com"}
{"timestamp":"2025-08-30T02:00:05.287Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:05.373Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68854b72f9e9cb00b72f1cc6","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:05.374Z","level":"INFO","message":"Fetching data for organization: mom","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"68854d3cdeaed88db8316d71"}
{"timestamp":"2025-08-30T02:00:05.373Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68854b72f9e9cb00b72f1cc6"}
{"timestamp":"2025-08-30T02:00:05.544Z","level":"INFO","message":"Data for organization mom:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:05.633Z","level":"INFO","message":"Organization \"mom\" has 0 admin emails:","organizationId":"68854d3cdeaed88db8316d71","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:05.633Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"68854e33deaed88db8316f19"}
{"timestamp":"2025-08-30T02:00:05.633Z","level":"WARN","message":"No admin emails found for organization: mom","organizationId":"68854d3cdeaed88db8316d71"}
{"timestamp":"2025-08-30T02:00:05.806Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:05.894Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68854e33deaed88db8316f19","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:05.894Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-30T02:00:05.894Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68854e33deaed88db8316f19"}
{"timestamp":"2025-08-30T02:00:06.071Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:06.164Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68861c0e166211623b3bd1e6","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:06.164Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-30T02:00:06.164Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68861c0e166211623b3bd1e6"}
{"timestamp":"2025-08-30T02:00:06.344Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:06.428Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"68862603166211623b3bd1f6","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:06.428Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-30T02:00:06.428Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"68862603166211623b3bd1f6"}
{"timestamp":"2025-08-30T02:00:06.609Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:06.698Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"688638d7166211623b3bd1fe","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:06.698Z","level":"INFO","message":"Fetching data for organization: Rio","startOfReport":"2025-08-29T02:00:00.000Z","endOfReport":"2025-08-30T02:00:00.000Z","organizationId":"688639ee166211623b3bd206"}
{"timestamp":"2025-08-30T02:00:06.698Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"688638d7166211623b3bd1fe"}
{"timestamp":"2025-08-30T02:00:06.876Z","level":"INFO","message":"Data for organization Rio:","billsCount":0,"ordersCount":0,"sessionsCount":0,"costsCount":0,"totalRevenue":0,"totalCosts":0,"topProducts":0}
{"timestamp":"2025-08-30T02:00:06.963Z","level":"INFO","message":"Organization \"Rio\" has 0 admin emails:","organizationId":"688639ee166211623b3bd206","adminEmails":[]}
{"timestamp":"2025-08-30T02:00:06.964Z","level":"WARN","message":"No admin emails found for organization: Rio","organizationId":"688639ee166211623b3bd206"}
{"timestamp":"2025-08-30T02:00:06.964Z","level":"INFO","message":"Daily report generation completed for all organizations"}
{"timestamp":"2025-08-30T03:00:00.316Z","level":"INFO","message":"🔄 Starting low stock check...","startTime":"2025-08-30T03:00:00.316Z"}
{"timestamp":"2025-08-30T03:00:00.399Z","level":"INFO","message":"Found 0 active organizations to check"}
{"timestamp":"2025-08-30T03:00:00.399Z","level":"INFO","message":"✅ Low stock check completed","startTime":"2025-08-30T03:00:00.316Z","endTime":"2025-08-30T03:00:00.399Z","duration":"83ms","organizationsChecked":0,"totalLowStockItems":0,"totalAlertsSent":0,"success":true}
{"timestamp":"2025-08-30T03:16:09.122Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-30T03:16:09.611Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-08-30T21:16:30.686Z","level":"WARN","message":"⚠️ MongoDB disconnected"}
{"timestamp":"2025-08-30T21:16:30.699Z","level":"INFO","message":"✅ MongoDB reconnected"}
{"timestamp":"2025-09-23T14:12:30.520Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-09-23T14:12:30.550Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-09-23T14:12:30.551Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-09-23T14:12:30.551Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-09-23T14:12:30.555Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-09-23T14:12:30.555Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-09-23T14:12:30.556Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-09-23T14:12:30.556Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-09-23T14:12:30.556Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-09-23T14:12:30.557Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-09-23T14:12:30.557Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-09-23T14:12:30.557Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-09-23T14:12:30.712Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-09-23T14:12:30.551Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-09-23T14:12:30.551Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-09-23T14:12:30.712Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-09-23T14:12:30.713Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-09-23T14:12:30.712Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-09-23T14:12:32.027Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-09-23T14:12:32.027Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-09-23T14:12:32.027Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-09-23T14:12:32.027Z","level":"INFO","message":"🔌 Port: 27017"}
{"timestamp":"2025-09-23T14:12:32.027Z","level":"INFO","message":"📈 Ready State: 1"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-09-23T14:12:32.139Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-09-23T14:12:32.660Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-09-25T12:14:59.561Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-09-25T12:14:59.590Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-09-25T12:14:59.591Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-09-25T12:14:59.594Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-09-25T12:14:59.591Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-09-25T12:14:59.594Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-09-25T12:14:59.595Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-09-25T12:14:59.595Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-09-25T12:14:59.595Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-09-25T12:14:59.596Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-09-25T12:14:59.596Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-09-25T12:14:59.596Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-09-25T12:14:59.591Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-09-25T12:14:59.676Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-09-25T12:14:59.676Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-09-25T12:14:59.591Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-09-25T12:14:59.676Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-09-25T12:14:59.676Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-09-25T12:15:01.389Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-09-25T12:15:01.389Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-09-25T12:15:01.389Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-09-25T12:15:01.389Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-09-25T12:15:01.389Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-09-25T12:15:01.532Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-09-25T12:15:02.440Z","level":"INFO","message":"✅ Database ping successful"}
{"timestamp":"2025-09-25T12:36:41.225Z","level":"INFO","message":"🔄 Connecting to MongoDB..."}
{"timestamp":"2025-09-25T12:36:41.256Z","level":"INFO","message":"Server started on port 5000","environment":"development","port":"5000"}
{"timestamp":"2025-09-25T12:36:41.256Z","level":"INFO","message":"🚀 Server running on port 5000 in development mode"}
{"timestamp":"2025-09-25T12:36:41.256Z","level":"INFO","message":"📊 Health check: http://localhost:5000/health"}
{"timestamp":"2025-09-25T12:36:41.257Z","level":"INFO","message":"🌐 CORS enabled for: http://localhost:3000"}
{"timestamp":"2025-09-25T12:36:41.257Z","level":"INFO","message":"Initializing scheduled tasks..."}
{"timestamp":"2025-09-25T12:36:41.261Z","level":"INFO","message":"✅ Low stock check scheduled: every 6 hours at minute 0"}
{"timestamp":"2025-09-25T12:36:41.261Z","level":"INFO","message":"✅ Daily report scheduled: every day at 5:00 AM (Egypt time)"}
{"timestamp":"2025-09-25T12:36:41.261Z","level":"INFO","message":"✅ Monthly report scheduled: last day of month at 11:59 PM"}
{"timestamp":"2025-09-25T12:36:41.262Z","level":"INFO","message":"✅ Overdue items update scheduled: every 6 hours"}
{"timestamp":"2025-09-25T12:36:41.262Z","level":"INFO","message":"✅ Recurring costs creation scheduled: daily at midnight"}
{"timestamp":"2025-09-25T12:36:41.262Z","level":"INFO","message":"✅ Database backup scheduled: weekly on Sunday at 2 AM"}
{"timestamp":"2025-09-25T12:36:41.262Z","level":"INFO","message":"✅ Expired notifications cleanup scheduled: daily at 3 AM"}
{"timestamp":"2025-09-25T12:36:41.263Z","level":"INFO","message":"✅ Subscription expiry notifications scheduled: every 24 hours"}
{"timestamp":"2025-09-25T12:36:41.291Z","level":"INFO","message":"✅ تم إعداد جدولة تنظيف الإشعارات (كل يوم في 2:00 صباحاً)"}
{"timestamp":"2025-09-25T12:36:41.291Z","level":"INFO","message":"✅ Notification cleanup scheduler initialized"}
{"timestamp":"2025-09-25T12:36:41.291Z","level":"INFO","message":"🎯 All scheduled tasks initialized successfully!"}
{"timestamp":"2025-09-25T12:36:41.291Z","level":"INFO","message":"✅ Scheduler initialized in development mode"}
{"timestamp":"2025-09-25T12:36:42.522Z","level":"INFO","message":"✅ MongoDB Connected Successfully!"}
{"timestamp":"2025-09-25T12:36:42.522Z","level":"INFO","message":"📊 Database: test"}
{"timestamp":"2025-09-25T12:36:42.523Z","level":"INFO","message":"📈 Ready State: 1"}
{"timestamp":"2025-09-25T12:36:42.523Z","level":"INFO","message":"🌐 Host: cluster0-shard-00-00.kqay8.mongodb.net"}
{"timestamp":"2025-09-25T12:36:42.523Z","level":"INFO","message":"🔌 Port: 27017"}
{"0":"i","1":"n","2":"d","3":"e","4":"x","5":" ","6":"n","7":"o","8":"t","9":" ","10":"f","11":"o","12":"u","13":"n","14":"d","15":" ","16":"w","17":"i","18":"t","19":"h","20":" ","21":"n","22":"a","23":"m","24":"e","25":" ","26":"[","27":"u","28":"s","29":"e","30":"r","31":"n","32":"a","33":"m","34":"e","35":"_","36":"1","37":"]","timestamp":"2025-09-25T12:36:42.632Z","level":"WARN","message":"⚠️ Error removing username index:"}
{"timestamp":"2025-09-25T12:36:43.154Z","level":"INFO","message":"✅ Database ping successful"}
