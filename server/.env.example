# Server Configuration
PORT=5000
NODE_ENV=development

# Logging Configuration
ENABLE_PERFORMANCE_LOGGING=false

# Database Configuration
# Primary database (local MongoDB for fast operations)
MONGODB_LOCAL_URI=mongodb://localhost:27017/bomba

# Backup database (MongoDB Atlas for cloud backup)
MONGODB_ATLAS_URI=mongodb+srv://username:password@cluster.mongodb.net/bomba?retryWrites=true&w=majority

# Legacy support (will use MONGODB_LOCAL_URI if MONGODB_URI is not set)
MONGODB_URI=mongodb://localhost:27017/bomba

# Dual MongoDB Sync Configuration
# Enable/disable automatic synchronization to Atlas
SYNC_ENABLED=true

# Maximum number of operations to queue before warning
SYNC_QUEUE_MAX_SIZE=10000

# Interval between sync operations (milliseconds)
SYNC_WORKER_INTERVAL=100

# Maximum retry attempts for failed sync operations
SYNC_MAX_RETRIES=5

# Persist queue to disk when Atlas is unavailable
SYNC_PERSIST_QUEUE=true

# Path for queue persistence file
SYNC_QUEUE_PATH=./data/sync-queue.json

# Collections to exclude from sync (comma-separated)
SYNC_EXCLUDED_COLLECTIONS=

# Batch size for full sync operations
SYNC_BATCH_SIZE=100

# Warning threshold for queue size
SYNC_QUEUE_WARNING_THRESHOLD=5000

# Warning threshold for sync lag (milliseconds)
SYNC_LAG_WARNING_THRESHOLD=60000

# Bidirectional Sync Configuration
# Enable/disable bidirectional synchronization (Atlas → Local)
BIDIRECTIONAL_SYNC_ENABLED=false

# Change Stream batch size for Atlas monitoring
ATLAS_CHANGE_STREAM_BATCH_SIZE=100

# Collections to exclude from bidirectional sync (comma-separated)
# These collections will maintain one-way sync (Local → Atlas only)
BIDIRECTIONAL_EXCLUDED_COLLECTIONS=sessions,logs

# Conflict resolution strategy (currently only 'last-write-wins' supported)
CONFLICT_RESOLUTION_STRATEGY=last-write-wins

# Origin tracking cleanup interval (milliseconds)
ORIGIN_TRACKING_CLEANUP_INTERVAL=60000

# Change Stream reconnection settings
CHANGE_STREAM_RECONNECT_INTERVAL=5000
CHANGE_STREAM_MAX_RECONNECT_ATTEMPTS=10

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=your_refresh_token_secret_here
JWT_REFRESH_EXPIRE=30d

# Email Configuration (Optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# TimeZone
APP_TIMEZONE=Africa/Cairo

# Frontend URL
FRONTEND_URL=http://localhost:3000

# File Upload
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# Airtable Integration
AIRTABLE_API_KEY=pat_your_airtable_api_key_here
AIRTABLE_BASE_ID=your_airtable_base_id_here
AIRTABLE_TABLE_NAME=Organizations
