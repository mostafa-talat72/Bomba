# Implementation Plan - تحسين صفحة التقارير

## المهام

- [x] 1. تحسين الأداء والسرعة





  - إضافة React.memo للمكونات المتكررة
  - استخدام useMemo للحسابات الثقيلة
  - إضافة debounce للفلاتر
  - تحسين تحميل البيانات
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5_

- [ ] 2. تحسين معالجة البيانات والأخطاء




  - إضافة معالجة أخطاء محسنة مع Promise.allSettled
  - إضافة مؤشرات تحميل واضحة
  - إضافة رسائل خطأ بالعربية
  - إضافة زر إعادة المحاولة
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 7.1, 7.2, 7.3, 7.4, 7.5_

- [ ] 3. تحويل الأرقام للعربية
  - إنشاء دالة toArabicNumbers
  - تطبيق التحويل على جميع الأرقام المعروضة
  - تحديث دالة formatCurrency
  - تحديث دالة formatNumber
  - _Requirements: 3.2_

- [ ] 4. تحسين التصميم والألوان
  - توحيد نظام الألوان مع باقي الصفحات
  - تحسين تباين الألوان للقراءة
  - تحسين المسافات والتباعد
  - إضافة animations سلسة
  - _Requirements: 3.1, 3.3, 3.4_

- [ ] 5. تحسين الفلاتر
  - تحسين واجهة الفلاتر
  - إضافة حفظ الفلتر المختار في session
  - تحسين عرض نطاق التاريخ
  - إضافة فلاتر إضافية حسب الحاجة
  - _Requirements: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 6. تحسين عرض بيانات البلايستيشن
  - إضافة قسم مخصص لإحصائيات البلايستيشن
  - عرض عدد الساعات لكل جهاز
  - عرض الجهاز الأكثر استخداماً
  - عرض متوسط مدة الجلسة
  - _Requirements: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6_

- [ ] 7. تحسين التصدير والطباعة
  - التأكد من عمل تصدير Excel
  - التأكد من عمل تصدير PDF
  - تحسين تنسيق الملفات المصدرة
  - إضافة اسم المنشأة في التقارير المصدرة
  - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 8. تحسين الاستجابة (Responsive)
  - اختبار الصفحة على شاشات مختلفة
  - تحسين العرض على الهواتف
  - تحسين العرض على الأجهزة اللوحية
  - التأكد من قابلية القراءة على جميع الأحجام
  - _Requirements: 8.1, 8.2, 8.3, 8.4, 8.5_

- [ ]* 9. إضافة اختبارات
  - كتابة unit tests للدوال الحسابية
  - كتابة integration tests لتحميل البيانات
  - اختبار الأداء
  - _Requirements: جميع المتطلبات_

- [ ] 10. التوثيق والتنظيف
  - إضافة تعليقات للكود
  - تنظيف الكود غير المستخدم
  - تحديث التوثيق
  - _Requirements: جميع المتطلبات_


## مهام جديدة - التحديثات المطلوبة

- [ ] 11. استخدام أقسام المنيو (Menu Sections) بدلاً من Categories
  - استبدال Categories بـ Menu Sections في جميع التقارير
  - تحديث فلترة المبيعات لاستخدام Sections
  - تحديث عرض البيانات حسب Sections
  - تحديث الـ backend API لدعم Sections
  - _Requirements: متطلب جديد - دعم أقسام المنيو_

- [ ] 12. إضافة فلترة بالتاريخ والساعة (مثل صفحة تقرير الاستهلاك)
  - إضافة DatePicker للتاريخ (من - إلى)
  - إضافة TimePicker للساعة (من - إلى)
  - تحديث API calls لإرسال التاريخ والساعة
  - تحديث backend لفلترة البيانات بالساعة
  - حفظ الفلتر المختار في localStorage
  - _Requirements: متطلب جديد - فلترة دقيقة بالتاريخ والساعة_

- [ ] 13. توحيد تجربة المستخدم مع صفحة تقرير الاستهلاك
  - استخدام نفس مكتبة Ant Design
  - استخدام نفس تنسيق التواريخ
  - استخدام نفس الألوان والتصميم
  - استخدام نفس طريقة عرض البيانات
  - _Requirements: متطلب جديد - توحيد التجربة_
