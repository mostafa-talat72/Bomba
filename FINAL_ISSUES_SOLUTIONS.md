# ุงูุญููู ุงูููุงุฆูุฉ ูููุดุงูู ุงููุชุจููุฉ

## ๐ง ุงููุดุงูู ุงููุญุฏุฏุฉ ูุงูุญููู

### 1. โ **ูุดููุฉ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ**
**ุงููุดููุฉ**: ูููุฉ ุงููุฑูุฑ ูุง ุชุชุบูุฑ ุฑุบู ุฑุณุงูุฉ ุงููุฌุงุญ
**ุงูุญู ุงููุทุจู**:
```javascript
// ุฅุถุงูุฉ markModified ูุชุณุฌูู ููุตู
user.password = newPassword;
user.markModified('password');
await user.save();
```
**ููุงุฎุชุจุงุฑ**: ุงุณุชุฎุฏู `test-password-change.html`

### 2. ๐ **ูุดููุฉ ุตูุงุญูุงุช ุงูููุธููู**
**ุงููุดููุฉ**: ุงูููุธููู ูุง ูุฑูู ุงูุจูุงูุงุช ูู ุงูุตูุญุงุช
**ุงูุชุญููู**: 
- โ ุงููุณุชุฎุฏู ุงูููุธู ูุฏูู ุงูุตูุงุญูุงุช ุงูุตุญูุญุฉ: `['staff', 'cafe', 'menu', 'orders', 'billing']`
- โ ุงูุฎุงุฏู ููุจู ูุฐู ุงูุตูุงุญูุงุช
- โ ุงููุดููุฉ ูุฏ ุชููู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

## ๐งช ุฃุฏูุงุช ุงูุงุฎุชุจุงุฑ ุงููุชููุฑุฉ

### 1. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุฏุฎูู ุงูููุธู**
- **ุงูููู**: `test-staff-login.html`
- **ุงููุธููุฉ**: ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูุงุฎุชุจุงุฑ ุงููุตูู ููู APIs
- **ุงูุจูุงูุงุช**: staff@bomba.com / staff123

### 2. **ุงุฎุชุจุงุฑ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ**
- **ุงูููู**: `test-password-change.html`
- **ุงููุธููุฉ**: ุงุฎุชุจุงุฑ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ูุงูุชุญูู ูู ุนูููุง

### 3. **ูุญุต ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูููุธู**
- **ุงูููู**: `server/scripts/checkStaffUser.js`
- **ุงููุธููุฉ**: ุนุฑุถ ุชูุงุตูู ุงููุณุชุฎุฏู ุงูููุธู ูุตูุงุญูุงุชู

## ๐ ุฎุทูุงุช ุงูุชุดุฎูุต ุงูููุชุฑุญุฉ

### ููุชุญูู ูู ูุดููุฉ ุงูุตูุงุญูุงุช:

1. **ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ**:
   ```bash
   # ุงูุชุญ test-staff-login.html
   # ุณุฌู ุฏุฎูู ูููุธู
   # ุงุฎุชุจุฑ ุงููุตูู ููุทูุจุงุช ูุงูููุงุชูุฑ
   ```

2. **ูุญุต ุงููุงุฌูุฉ ุงูุฃูุงููุฉ**:
   - ุชุญูู ูู console ุงููุชุตูุญ ููุฃุฎุทุงุก
   - ุชุญูู ูู Network tab ูุฑุคูุฉ ุงูุทูุจุงุช ุงููุฑููุถุฉ
   - ุชุญูู ูู localStorage ููุชููู

3. **ูุญุต ุงูุชููู**:
   ```javascript
   // ูู console ุงููุชุตูุญ
   const token = localStorage.getItem('token');
   console.log('Token:', token);
   
   // ูู ุชุดููุฑ ุงูุชููู (ุงุฎุชูุงุฑู)
   const payload = JSON.parse(atob(token.split('.')[1]));
   console.log('Token payload:', payload);
   ```

## ๐ฏ ุงูุญููู ุงููุญุชููุฉ ููุดููุฉ ุงูุตูุงุญูุงุช

### 1. **ูุดููุฉ ูู ุงูุชููู**
ุฅุฐุง ูุงู ุงูุชููู ูุง ูุญุชูู ุนูู ุงูุตูุงุญูุงุช ุงูุตุญูุญุฉ:
```javascript
// ูู authController.js - ุฏุงูุฉ login
const token = jwt.sign(
    { 
        id: user._id, 
        permissions: user.permissions // ุชุฃูุฏ ูู ุฅุฑุณุงู ุงูุตูุงุญูุงุช
    },
    process.env.JWT_SECRET
);
```

### 2. **ูุดููุฉ ูู ูุญุต ุงูุตูุงุญูุงุช ุจุงููุงุฌูุฉ**
ุฅุฐุง ูุงูุช ุงููุงุฌูุฉ ูุง ุชุชุนุฑู ุนูู ุงูุตูุงุญูุงุช:
```javascript
// ุชุญูู ูู ุฃู ุงููุงุฌูุฉ ุชูุญุต ุงูุตูุงุญูุงุช ุงูุตุญูุญุฉ
const hasPermission = user.permissions.includes('cafe') || 
                     user.permissions.includes('all');
```

### 3. **ูุดููุฉ ูู ุชุญุฏูุซ ุงูุตูุงุญูุงุช**
ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุญุชุงุฌ ุชุณุฌูู ุฎุฑูุฌ ูุฏุฎูู:
```javascript
// ูุฏ ูุญุชุงุฌ ุงููุณุชุฎุฏู ูุชุณุฌูู ุฎุฑูุฌ ูุฏุฎูู ูุฑุฉ ุฃุฎุฑู
// ูุชุญุฏูุซ ุงูุชููู ุจุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
```

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

### โ **ููุชูู**:
- ุฅุตูุงุญ ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชูุนูู ุงูุชุนุฏูู ูุงูุญุฐู ููุฃุฌูุฒุฉ
- ุฅุถุงูุฉ ุตูุงุญูุงุช ุฌุฏูุฏุฉ ูููููุฐุฌ
- ุชุญุฏูุซ ุตูุงุญูุงุช ุงูุฎุงุฏู
- ุฅูุดุงุก ูุณุชุฎุฏู ููุธู
- ุฅุถุงูุฉ ุชุณุฌูู ููุตู ูุชุบููุฑ ูููุฉ ุงููุฑูุฑ

### ๐ **ูุญุชุงุฌ ุงุฎุชุจุงุฑ**:
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ุงุณุชุฎุฏู test-password-change.html)
- ูุตูู ุงูููุธููู ููุตูุญุงุช (ุงุณุชุฎุฏู test-staff-login.html)

### ๐ **ูููุชุงุจุนุฉ**:
1. ุงุฎุชุจุฑ ุงููููุงุช ุงููุฑููุฉ
2. ุฃุฑุณู ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ
3. ุณูุญู ุฃู ูุดุงูู ูุชุจููุฉ ุจูุงุกู ุนูู ุงููุชุงุฆุฌ

## ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ
๐ก **ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงูููุงุฆู** - ูุนุธู ุงููุดุงูู ูุญูููุฉุ ูุญุชุงุฌ ุชุฃููุฏ ุงูุงุฎุชุจุงุฑุงุช