# ุฅุถุงูุฉ ุฒุฑ ุชุบููุฑ ุงูุทุงููุฉ ูููุงุชูุฑ ุงูุฌูุณุงุช

## ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ ุฒุฑ "ุชุบููุฑ ุงูุทุงููุฉ" ูููุงุชูุฑ ุงูุฌูุณุงุช ูู ูุณู ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู ูู ุตูุญุฉ ุงูููุงุชูุฑ.

## ูุจู ุงูุชุญุฏูุซ โ

```
๐ฎ ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู
  โโ PS5 - 1
      โโ ูุงุชูุฑุฉ #B-001 โ๏ธ ุบูุฑ ูุฑุชุจุทุฉ ุจุทุงููุฉ ๐ค ุฃุญูุฏ
          [ุนุฑุถ ุงููุงุชูุฑุฉ ููุท - ูุง ููุฌุฏ ุฒุฑ ุชุบููุฑ ุงูุทุงููุฉ]
```

## ุจุนุฏ ุงูุชุญุฏูุซ โ

```
๐ฎ ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู
  โโ PS5 - 1
      โโ ูุงุชูุฑุฉ #B-001 โ๏ธ ุบูุฑ ูุฑุชุจุทุฉ ุจุทุงููุฉ ๐ค ุฃุญูุฏ
          [ุฒุฑ: ุชุบููุฑ] โ ุฌุฏูุฏ!
```

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ

### 1. ุชุญุฏูุซ ูููู `PlaystationBillItem`

#### ูุจู:
```typescript
const PlaystationBillItem = memo(({ 
  bill, 
  onPaymentClick, 
  getStatusColor, 
  getStatusText, 
  formatCurrency 
}: { 
  bill: Bill; 
  onPaymentClick: (bill: Bill) => void;
  getStatusColor: (status: string) => string;
  getStatusText: (status: string) => string;
  formatCurrency: (amount: number) => string;
}) => (
  <div onClick={() => onPaymentClick(bill)}>
    {/* ูุญุชูู ุงููุงุชูุฑุฉ */}
  </div>
));
```

#### ุจุนุฏ:
```typescript
const PlaystationBillItem = memo(({ 
  bill, 
  onPaymentClick,
  onChangeTableClick, // โ ุฌุฏูุฏ
  getStatusColor, 
  getStatusText, 
  formatCurrency 
}: { 
  bill: Bill; 
  onPaymentClick: (bill: Bill) => void;
  onChangeTableClick?: (bill: Bill) => void; // โ ุฌุฏูุฏ
  getStatusColor: (status: string) => string;
  getStatusText: (status: string) => string;
  formatCurrency: (amount: number) => string;
}) => (
  <div className="flex items-center justify-between">
    <div onClick={() => onPaymentClick(bill)}>
      {/* ูุญุชูู ุงููุงุชูุฑุฉ */}
    </div>
    {onChangeTableClick && (
      <button
        onClick={(e) => {
          e.stopPropagation();
          onChangeTableClick(bill);
        }}
        className="px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-lg"
      >
        <TableIcon className="h-3 w-3" />
        ุชุบููุฑ
      </button>
    )}
  </div>
));
```

### 2. ุฅุถุงูุฉ ุฏุงูุฉ `handleOpenChangeTableModal`

```typescript
// ุฏุงูุฉ ููุชุญ modal ุชุบููุฑ ุงูุทุงููุฉ
const handleOpenChangeTableModal = (bill: Bill) => {
  setSelectedBill(bill);
  setShowChangeTableModal(true);
  setNewTableNumber(null);
};
```

### 3. ุชูุฑูุฑ ุงูุฏุงูุฉ ูููููู

```typescript
<PlaystationBillItem
  key={bill.id || bill._id}
  bill={bill}
  onPaymentClick={handlePaymentClick}
  onChangeTableClick={handleOpenChangeTableModal} // โ ุฌุฏูุฏ
  getStatusColor={getStatusColor}
  getStatusText={getStatusText}
  formatCurrency={formatCurrency}
/>
```

## ููู ูุนูู

### 1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู ุฒุฑ "ุชุบููุฑ"
```typescript
onClick={(e) => {
  e.stopPropagation(); // ููุน ูุชุญ modal ุงูุฏูุน
  onChangeTableClick(bill);
}}
```

### 2. ูุชู ูุชุญ modal ุชุบููุฑ ุงูุทุงููุฉ
```typescript
handleOpenChangeTableModal(bill) {
  setSelectedBill(bill);
  setShowChangeTableModal(true);
  setNewTableNumber(null);
}
```

### 3. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุทุงููุฉ ุงูุฌุฏูุฏุฉ
- ูุธูุฑ modal ูุน ูุงุฆูุฉ ุงูุทุงููุงุช ุงููุชุงุญุฉ
- ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุทุงููุฉ

### 4. ูุชู ุชุญุฏูุซ ุงููุงุชูุฑุฉ
```typescript
handleChangeTable() {
  await api.updateBill(billId, { table: newTableNumber });
  // ุชุญุฏูุซ ุงูุจูุงูุงุช
  await Promise.all([fetchBills(), fetchTables()]);
}
```

### 5. ุงููุชูุฌุฉ
- ุงููุงุชูุฑุฉ ุชูุชูู ูู ูุณู "ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู" ุฅูู ุงูุทุงููุฉ ุงููุฎุชุงุฑุฉ
- ุชุธูุฑ ุฏุงุฎู ูุงุชูุฑุฉ ุงูุทุงููุฉ

## ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู:
1. ุนููู ููุนุจ ุนูู PS5-1 ุจุฏูู ุทุงููุฉ
2. ุงููุงุชูุฑุฉ ุชุธูุฑ ูู ูุณู "ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู"
3. ุงูุนููู ูุทูุจ ุงูุงูุชูุงู ุฅูู ุทุงููุฉ 5
4. ุงูููุธู ูุถุบุท ุนูู ุฒุฑ "ุชุบููุฑ"
5. ูุฎุชุงุฑ ุทุงููุฉ 5
6. ุงููุงุชูุฑุฉ ุชูุชูู ุฅูู ุทุงููุฉ 5

### ูุจู:
```
๐ฎ ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู
  โโ PS5 - 1
      โโ ูุงุชูุฑุฉ #B-001 โ๏ธ ุบูุฑ ูุฑุชุจุทุฉ ุจุทุงููุฉ ๐ค ุฃุญูุฏ

๐ช ุงูุทุงููุงุช
  โโ ุทุงููุฉ 5
      โโ [ูุงุฑุบุฉ]
```

### ุจุนุฏ:
```
๐ฎ ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู
  โโ PS5 - 1
      โโ [ูุง ุชูุฌุฏ ููุงุชูุฑ]

๐ช ุงูุทุงููุงุช
  โโ ุทุงููุฉ 5
      โโ ูุงุชูุฑุฉ #B-001 (ุฌูุณุฉ PS5-1 + ุฃุญูุฏ)
```

## ุงููุฒุงูุง

### โ ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- ุฒุฑ ูุงุถุญ ููุจุงุดุฑ
- ูุง ุญุงุฌุฉ ููุชุญ ุงููุงุชูุฑุฉ ุฃููุงู

### โ ูุฑููุฉ ูู ุงูุฅุฏุงุฑุฉ
- ูููู ููู ุงูุฌูุณุงุช ุจูู ุงูุทุงููุงุช ุจุณูููุฉ
- ูููู ุฑุจุท ุงูุฌูุณุงุช ุบูุฑ ุงููุฑุชุจุทุฉ ุจุทุงููุฉ

### โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- ููุณ ุงููุธููุฉ ุงููุชุงุญุฉ ูู ููุงุชูุฑ ุงูุทุงููุงุช
- ูุงุฌูุฉ ููุญุฏุฉ

### โ ูุง ุชุฃุซูุฑ ุนูู ุงููุธุงุฆู ุงูุฃุฎุฑู
- ุฒุฑ ุงูุฏูุน ูุนูู ููุง ูู
- ุนุฑุถ ุงููุงุชูุฑุฉ ูุนูู ููุง ูู

## ุงูุชุตููู

### ุงูุฒุฑ:
```css
className="px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-lg transition-colors flex items-center gap-1"
```

### ุงูุฃููููุฉ:
```tsx
<TableIcon className="h-3 w-3" />
```

### ุงููุต:
```
ุชุบููุฑ
```

### ุงูููุถุน:
- ุนูู ูุณุงุฑ ุงููุงุชูุฑุฉ (ุจุฌุงูุจ ุงููุจูุบ ุงููุชุจูู)
- ูุง ูุชุฏุงุฎู ูุน ููุทูุฉ ุงูููุฑ ููุฏูุน

## ุงููููุงุช ุงููุนุฏูุฉ

1. `src/pages/Billing.tsx`:
   - ุชุญุฏูุซ `PlaystationBillItem` component
   - ุฅุถุงูุฉ `onChangeTableClick` prop
   - ุฅุถุงูุฉ `handleOpenChangeTableModal` function
   - ุชูุฑูุฑ ุงูุฏุงูุฉ ูููููู

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุนุฑุถ ุงูุฒุฑ
```bash
1. ุฃูุดุฆ ุฌูุณุฉ ุจูุงูุณุชูุดู ุบูุฑ ูุฑุชุจุทุฉ ุจุทุงููุฉ
2. ุงูุชุญ ุตูุญุฉ ุงูููุงุชูุฑ
3. ุงุฐูุจ ุฅูู ูุณู "ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู"
4. ุชุญูู ูู ูุฌูุฏ ุฒุฑ "ุชุบููุฑ" ุจุฌุงูุจ ุงููุงุชูุฑุฉ โ
```

### ุงุฎุชุจุงุฑ 2: ุชุบููุฑ ุงูุทุงููุฉ
```bash
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุบููุฑ"
2. ุชุญูู ูู ูุชุญ modal ุชุบููุฑ ุงูุทุงููุฉ โ
3. ุงุฎุชุฑ ุทุงููุฉ
4. ุงุถุบุท "ุชุฃููุฏ"
5. ุชุญูู ูู ุงูุชูุงู ุงููุงุชูุฑุฉ ุฅูู ุงูุทุงููุฉ โ
```

### ุงุฎุชุจุงุฑ 3: ุนุฏู ุงูุชุฏุงุฎู ูุน ุงูุฏูุน
```bash
1. ุงุถุบุท ุนูู ููุทูุฉ ุงููุงุชูุฑุฉ (ููุณ ุงูุฒุฑ)
2. ุชุญูู ูู ูุชุญ modal ุงูุฏูุน โ
3. ุงุถุบุท ุนูู ุฒุฑ "ุชุบููุฑ"
4. ุชุญูู ูู ูุชุญ modal ุชุบููุฑ ุงูุทุงููุฉ (ููุณ ุงูุฏูุน) โ
```

## ููุงุญุธุงุช

### ุงูุฒุฑ ูุธูุฑ ููุท ูู:
- โ ูุณู "ุฃุฌูุฒุฉ ุงูุจูุงูุณุชูุดู"
- โ ููููุงุชูุฑ ุบูุฑ ุงููุฑุชุจุทุฉ ุจุทุงููุฉ
- โ ููููุงุชูุฑ ุงููุฑุชุจุทุฉ ุจุทุงููุฉ (ูููู ุชุบููุฑ ุงูุทุงููุฉ)

### ุงูุฒุฑ ูุง ูุธูุฑ ูู:
- โ ูุณู "ููุงุชูุฑ ุบูุฑ ูุฑุชุจุทุฉ ุจุทุงููุฉ" (ูุงููู ููุท)
- โ ุงูููุงุชูุฑ ุงูููุบุงุฉ

## ุงูุฎูุงุตุฉ

โ **ุงูููุฒุฉ ูููุฐุฉ ุจูุฌุงุญ**:
- ุฒุฑ "ุชุบููุฑ ุงูุทุงููุฉ" ูุชุงุญ ูููุงุชูุฑ ุงูุฌูุณุงุช
- ููุณ ุงููุธููุฉ ุงููุชุงุญุฉ ูู ููุงุชูุฑ ุงูุทุงููุงุช
- ูุงุฌูุฉ ููุญุฏุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู

๐ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**
